<!DOCTYPE html>
<html class="i-ua_js_yes i-ua_css_standard i-ua_placeholder_yes i-ua_svg_yes i-ua_inlinesvg_yes i-ua_orient_landscape utilityfocus" lang="ru"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><link rel="stylesheet" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/github.css"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Подготовка работы Tensorflow 1.15 &amp; Object_detection_API @ Wiki</title><script nonce="">;(function(d,e,c,r){e=d.documentElement;c="className";r="replace";e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");if(d.compatMode!="CSS1Compat")e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")})(document);;(function(d,e,p){e=d.documentElement;p="placeholder";e.className+=" i-ua_"+p+(p in d.createElement("input")?"_yes":"_no")})(document);;(function(d,e,c,n,w,v,f){e=d.documentElement;c="className";n="createElementNS";f="firstChild";w="http://www.w3.org/2000/svg";e[c]+=" i-ua_svg_"+(!!d[n]&&!!d[n](w,"svg").createSVGRect?"yes":"no");v=d.createElement("div");v.innerHTML="<svg/>";e[c]+=" i-ua_inlinesvg_"+((v[f]&&v[f].namespaceURI)==w?"yes":"no");})(document);;document.documentElement.className+=" i-ua_orient_"+(window.innerWidth>window.innerHeight?"landscape":"portrait");;(function(w,e,s,c,x,l,p,d){c="className";x="deviceXDPI";l="logicalXDPI";p="devicePixelRatio";d=x in s&&l in s&&s[x]/s[l]||p in w&&w[p];d>1&&(e[c]+=" i-ua_retina_yes")})(window,document.documentElement,screen);</script><link rel="preload" as="style" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/28383dda559f17ed179d.css"><link rel="preload" as="style" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/fe876b7d8f7158123045.css"><link rel="preload" as="style" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/37dc77753e2d27ef3155.css"><link rel="preload" as="style" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/32f8c6de51e5cd6e80a8.css"><link rel="preload" as="style" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/0d40f5969dcf4834a70b.css"><link rel="preload" as="style" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/b4794cab6d70dead6cbf.css"><link rel="preload" as="style" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/028f5d3046134b8c6370.css"><link rel="preload" as="style" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/02fda137c8d18ba3a2f9.css"><link rel="preload" as="style" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/b4d66e4df1ddfcfeb5b2.css"><link rel="preload" as="style" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/904b40def18523affe5f.css"><link rel="preload" as="style" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/874c2b2dc9157e7dbb81.css"><link rel="preload" as="style" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/d5ae7ad0126c52b311d8.css"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/react-with-dom.js"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/73de6be24bab003fcb39.js"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/72d9c3d8199047bb5d8f.js"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/40a47b861267ae219b8f.js"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/5ba6fd9100ebd3a93883.js"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/df2a437e61953f22d1ca.js"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/e57e63961deb015e9ad4.js"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/fa2d7320ef4c2f2bcc16.js"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/2628c2c6f5559479a3ca.js"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/2d64735040ca7312bcb8.js"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/42814c9c068c2c706ca9.js"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/f5a9d247165cab134949.js"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/4fef5fa8ccd067e3f3c8.js"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/1f7100b5dc22058d10f1.js"><link rel="preload" as="script" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/a3489d6e6744bb251708.js"><link rel="stylesheet" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/28383dda559f17ed179d.css"><link rel="stylesheet" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/fe876b7d8f7158123045.css"><link rel="stylesheet" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/37dc77753e2d27ef3155.css"><link rel="stylesheet" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/32f8c6de51e5cd6e80a8.css"><link rel="stylesheet" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/0d40f5969dcf4834a70b.css"><link rel="stylesheet" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/b4794cab6d70dead6cbf.css"><link rel="stylesheet" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/028f5d3046134b8c6370.css"><link rel="stylesheet" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/02fda137c8d18ba3a2f9.css"><link rel="stylesheet" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/b4d66e4df1ddfcfeb5b2.css"><link rel="stylesheet" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/904b40def18523affe5f.css"><link rel="stylesheet" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/874c2b2dc9157e7dbb81.css"><link rel="stylesheet" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/d5ae7ad0126c52b311d8.css"><link rel="apple-touch-icon" sizes="180x180" href="https://wiki.yandex.ru/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://wiki.yandex.ru/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://wiki.yandex.ru/favicon-16x16.png"><link rel="manifest" href="https://wiki.yandex.ru/site.webmanifest"><link rel="mask-icon" href="https://wiki.yandex.ru/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#ffffff"><meta name="theme-color" content="#ffffff"><style type="text/css">.x-staff-lite-card{z-index:100500;position:absolute;box-shadow:0 0 10px 0 rgba(0,0,0,0.3);border-radius:1px;background:#fff;max-width:600px;overflow:auto;box-sizing:border-box;opacity:1;margin:0;visibility:visible;transition:visibility .2s,opacity .2s linear,margin .01s linear .19s;}.x-staff-lite-card[aria-hidden]{opacity:0;visibility:hidden;margin:-9999px 0 0 -9999px}.x-staff-lite-card__frame{display:block}.x-staff-lite-card_side_left{margin-left:-10px}.x-staff-lite-card_side_right{margin-left:10px}</style></head><body class="b-page b-page_type_article b-page_sidebar_closed b-page_service_wiki wiki-session wi-notification pre-styles b-page__body i-global i-ua wiki-session wi-notification pre-styles Theme Theme_color_yandex-default Theme_root_default i-bem b-page_actuality_actual wiki-session_js_inited wi-notification_js_inited i-global_js_inited i-ua_platform_other i-ua_js_inited b-page_js_inited" data-bem="{&quot;wiki-session&quot;:{},&quot;wi-notification&quot;:{},&quot;i-global&quot;:{&quot;lang&quot;:&quot;ru&quot;,&quot;tld&quot;:&quot;ru&quot;,&quot;content-region&quot;:&quot;ru&quot;,&quot;click-host&quot;:&quot;//clck.yandex.ru&quot;,&quot;passport-host&quot;:&quot;https://passport.yandex.ru&quot;,&quot;pass-host&quot;:&quot;https://pass.yandex.ru&quot;,&quot;social-host&quot;:&quot;https://social.yandex.ru&quot;,&quot;export-host&quot;:&quot;https://export.yandex.ru&quot;,&quot;login&quot;:&quot;ea@varya.studio&quot;,&quot;lego-static-host&quot;:&quot;https://yastatic.net/lego/2.10-142&quot;,&quot;id&quot;:&quot;wiki&quot;,&quot;hosts&quot;:{&quot;wf-as-a-service&quot;:&quot;https://wfaas.yandex.ru&quot;,&quot;s3&quot;:&quot;https://wiki.s3.yandex.net/@yandex-int/wiki&quot;,&quot;wikiApi&quot;:{&quot;https&quot;:true,&quot;prefix&quot;:&quot;/_api/frontend&quot;,&quot;host&quot;:&quot;wiki-api.yandex.ru&quot;,&quot;frontend&quot;:&quot;https://wiki-api.yandex.ru/_api/frontend&quot;,&quot;v1&quot;:&quot;https://wiki-api.yandex.ru/_api/v1&quot;},&quot;forms&quot;:&quot;https://connect.yandex.ru&quot;,&quot;staticPrefix&quot;:&quot;/_m&quot;,&quot;blackbox&quot;:{&quot;url&quot;:&quot;http://blackbox.yandex.net&quot;},&quot;apiPassport&quot;:{&quot;url&quot;:&quot;https://api.passport.yandex.ru&quot;},&quot;techPassport&quot;:{&quot;url&quot;:&quot;https://pass.yandex.ru&quot;},&quot;passport&quot;:{&quot;url&quot;:&quot;https://passport.yandex.ru&quot;},&quot;connect&quot;:{&quot;url&quot;:&quot;https://connect.yandex.ru&quot;,&quot;host&quot;:&quot;connect.yandex.ru&quot;},&quot;cloudIamAud&quot;:&quot;iam.api.cloud.yandex.net&quot;,&quot;cloudConsole&quot;:&quot;console.cloud.yandex.ru&quot;,&quot;cloudOauth&quot;:&quot;oauth.private-api.cloud.yandex.net:8655&quot;,&quot;cloudTokenService&quot;:&quot;ts.private-api.cloud.yandex.net:4282&quot;,&quot;magiclinks&quot;:&quot;magiclinks.yandex.ru&quot;,&quot;schi&quot;:&quot;schi.yandex.ru&quot;,&quot;staff&quot;:{&quot;url&quot;:&quot;https://staff.yandex.ru/&quot;},&quot;startrek&quot;:{&quot;url&quot;:&quot;https://tracker.yandex.ru/&quot;},&quot;search&quot;:{&quot;url&quot;:&quot;https://connect.yandex.ru/search/wiki&quot;},&quot;avatarsMds&quot;:{&quot;url&quot;:&quot;https://avatars.mds.yandex.net&quot;},&quot;avatars&quot;:{&quot;url&quot;:&quot;https://avatars.yandex.net/get-yapic/&quot;},&quot;support&quot;:{&quot;url&quot;:&quot;https://yandex.ru/support/connect/wiki/&quot;},&quot;directory&quot;:{&quot;url&quot;:&quot;https://api-internal.directory.ws.yandex.net/v6&quot;},&quot;externalDirectoryApi&quot;:{&quot;host&quot;:&quot;api.directory.yandex.ru&quot;},&quot;internalDirectoryApi&quot;:{&quot;host&quot;:&quot;api-internal.directory.ws.yandex.net&quot;},&quot;suggest&quot;:{&quot;url&quot;:&quot;https://connect.yandex.ru/suggest/&quot;},&quot;feedbackForm&quot;:&quot;https://forms.yandex.ru/surveys/6768/&quot;,&quot;translateApi&quot;:&quot;https://translate.yandex.net/api/v1/tr.json/translate?srv=wiki&quot;,&quot;docviewer&quot;:{&quot;url&quot;:&quot;https://docviewer.yandex.ru/&quot;}},&quot;secretkey&quot;:&quot;uf0cc91599af208e47ca70ceb5a9ae358&quot;,&quot;displayName&quot;:&quot;&quot;,&quot;force_desktop&quot;:false,&quot;page_data&quot;:{&quot;supertag&quot;:&quot;mashinnoe-zrenie/tensorflow-1.15objectdetectionapi&quot;},&quot;forceOldWf&quot;:false,&quot;forceNewWf&quot;:false,&quot;orgId&quot;:&quot;813822&quot;,&quot;showNewGrids&quot;:false,&quot;userSettings&quot;:{&quot;code_theme&quot;:&quot;github&quot;,&quot;propose_content_translation&quot;:false,&quot;use_nodejs_frontend&quot;:true,&quot;use_full_width_content&quot;:false,&quot;use_new_wf&quot;:false,&quot;language&quot;:&quot;ru&quot;}},&quot;i-ua&quot;:{},&quot;b-page&quot;:{&quot;supertag&quot;:&quot;/mashinnoe-zrenie/tensorflow-1.15objectdetectionapi&quot;,&quot;login&quot;:&quot;ea&quot;,&quot;uid&quot;:1130000045489958,&quot;full_width_content&quot;:false,&quot;codeTheme&quot;:&quot;github&quot;,&quot;notifier&quot;:{}}}" data-state="{&quot;user&quot;:{&quot;login&quot;:&quot;ea@varya.studio&quot;}}" data="{&quot;user&quot;:{&quot;error&quot;:&quot;OK&quot;,&quot;login&quot;:&quot;ea@varya.studio&quot;,&quot;lang&quot;:&quot;ru&quot;,&quot;country&quot;:&quot;ru&quot;,&quot;organizationIds&quot;:&quot;813822&quot;,&quot;status&quot;:&quot;VALID&quot;,&quot;uid&quot;:&quot;1130000045489958&quot;,&quot;havePassword&quot;:true,&quot;haveHint&quot;:false,&quot;karma&quot;:0,&quot;age&quot;:5,&quot;ttl&quot;:&quot;5&quot;,&quot;displayName&quot;:&quot;ea@varya.studio&quot;,&quot;avatar&quot;:{&quot;default&quot;:&quot;0/0-0&quot;,&quot;empty&quot;:true}},&quot;pre&quot;:true}" data-cache="10.183.0-2742214eacafe345dde35725a5106d698d40bb81.0" style="--scroll-bar-width:17px;"><div class="b-page__view"><div class="b-head i-bem b-head_js_inited" data-bem="{&quot;b-head&quot;:{&quot;error&quot;:null}}"><div class="header2" role="banner"><div class="header2__main"><div class="dropdown2 dropdown2_switcher_button2 dropdown2_theme_normal dropdown2_autoclosable_yes dropdown2_role_services dropdown2_view_classic i-bem dropdown2_js_inited" data-bem="{&quot;dropdown2&quot;:{}}"><button class="button2 button2_view_classic button2_size_s button2_theme_normal i-bem" data-bem="{&quot;button2&quot;:{}}" type="button" autocomplete="off" tabindex="0"><span class="icon icon_type_burger icon_direction_bottom icon_size_s header2__burger"></span></button><div class="popup2 popup2_view_classic popup2_theme_normal popup2_autoclosable_yes popup2_target_anchor popup2_role_table-options popup2_hiding_yes b-head__services-popup i-bem popup2_js_inited" data-bem="{&quot;popup2&quot;:{&quot;directions&quot;:[&quot;bottom-left&quot;]}}"><div class="popup2__tail"></div><div class="popup2__tail"></div><ul class="services-table services-table_size_s i-bem services-table_js_inited"><li class="services-table__item"><div class="service"><a class="service__url link link_theme_normal" href="https://connect.yandex.ru/portal/home"><span class="service__icon service__icon_color_56 service-icon__dashboard service-icon__dashboard_color_56" style="background: url(https://yastatic.net/q/connect/portal-header-icons/dashboard.svg); background-size: contain; background-position: center; background-repeat: no-repeat;"></span><span class="service__name">Главная</span></a></div></li><li class="services-table__item"><div class="service"><a class="service__url link link_theme_normal" href="https://mail.yandex.ru/"><span class="service__icon service__icon_color_56 service-icon__mail service-icon__mail_color_56" style="background: url(https://yastatic.net/q/connect/portal-header-icons/mail.svg); background-size: contain; background-position: center; background-repeat: no-repeat;"></span><span class="service__name">Почта</span></a></div></li><li class="services-table__item"><div class="service"><a class="service__url link link_theme_normal" href="https://yandex.ru/chat"><span class="service__icon service__icon_color_56 service-icon__yamb service-icon__yamb_color_56" style="background: url(https://yastatic.net/q/connect/portal-header-icons/chat.svg); background-size: contain; background-position: center; background-repeat: no-repeat;"></span><span class="service__name">Мессенджер</span></a></div></li><li class="services-table__item"><div class="service"><a class="service__url link link_theme_normal" href="https://disk.yandex.ru/"><span class="service__icon service__icon_color_56 service-icon__disk service-icon__disk_color_56" style="background: url(https://yastatic.net/q/connect/portal-header-icons/disk.svg); background-size: contain; background-position: center; background-repeat: no-repeat;"></span><span class="service__name">Диск</span></a></div></li><li class="services-table__item"><div class="service"><a class="service__url link link_theme_normal" href="https://connect.yandex.ru/portal/staff"><span class="service__icon service__icon_color_56 service-icon__staff service-icon__staff_color_56" style="background: url(https://yastatic.net/q/connect/portal-header-icons/staff.svg); background-size: contain; background-position: center; background-repeat: no-repeat;"></span><span class="service__name">Люди</span></a></div></li><li class="services-table__item"><div class="service"><a class="service__url link link_theme_normal" href="https://tracker.yandex.ru/"><span class="service__icon service__icon_color_56 service-icon__tracker service-icon__tracker_color_56" style="background: url(https://yastatic.net/q/connect/portal-header-icons/tracker.svg); background-size: contain; background-position: center; background-repeat: no-repeat;"></span><span class="service__name">Трекер</span></a></div></li><li class="services-table__item"><div class="service"><a class="service__url link link_theme_normal" href="https://wiki.yandex.ru/"><span class="service__icon service__icon_color_56 service-icon__wiki service-icon__wiki_color_56" style="background: url(https://yastatic.net/q/connect/portal-header-icons/wiki.svg); background-size: contain; background-position: center; background-repeat: no-repeat;"></span><span class="service__name">Вики</span></a></div></li><li class="services-table__item"><div class="service"><a class="service__url link link_theme_normal" href="https://forms.yandex.ru/admin/"><span class="service__icon service__icon_color_56 service-icon__forms service-icon__forms_color_56" style="background: url(https://yastatic.net/q/connect/portal-header-icons/forms.svg); background-size: contain; background-position: center; background-repeat: no-repeat;"></span><span class="service__name">Формы</span></a></div></li><li class="services-table__item"><div class="service"><a class="service__url link link_theme_normal" href="https://calendar.yandex.ru/"><span class="service__icon service__icon_color_56 service-icon__calendar service-icon__calendar_color_56" style="background: url(https://yastatic.net/q/connect/portal-header-icons/calendar.svg); background-size: contain; background-position: center; background-repeat: no-repeat;"></span><span class="service__name">Календарь</span></a></div></li></ul></div></div><div class="header2__logo"><span class="logo logo_name_ys-ru-69x28 i-bem logo_js_inited"></span></div><a class="link link_theme_normal i-bem link_js_inited" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="https://wiki.yandex.ru/"><img class="image header2__service-logo" src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/a.svg" alt=""></a><div class="header2__left"><div class="header2__menu-item"><a class="link link_theme_normal i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="https://wiki.yandex.ru/~">Моя страница</a></div><div class="header2__menu-item b-favs i-bem" data-bem="{&quot;b-favs&quot;:{}}"><a class="link link_theme_normal i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="">Закладки</a></div><div class="header2__menu-item"><a class="link link_theme_normal i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="https://wiki.yandex.ru/~/notes/">Заметки</a></div><div class="header2__menu-item"><a class="link link_theme_normal i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="https://yandex.ru/support/connect/wiki/">Справка</a></div></div><div class="header2__right"><button class="button2 button2_size_m button2_theme_action button2_type_new-page button2_view_classic i-bem button2_js_inited" data-bem="{&quot;button2&quot;:{}}" type="button" autocomplete="off" tabindex="0"><span class="icon icon_type_plus icon_direction_bottom icon_size_s button2__icon button2__icon_side_left"></span><span class="button2__text">Создать</span></button><form class="search2" role="search" action="https://connect.yandex.ru/search/wiki"><div class="search2__input"><div class="m-suggest m-suggest_b2b-header_yes m-suggest_type_b2b m-suggest_size_s i-bem m-suggest_js_inited" data-bem="{&quot;m-suggest&quot;:{&quot;headName&quot;:&quot;b-head&quot;,&quot;layers&quot;:&quot;people,departments,groups&quot;,&quot;addRequestParams&quot;:{&quot;people.order&quot;:1,&quot;departments.order&quot;:2,&quot;groups.order&quot;:3,&quot;org_id&quot;:&quot;813822&quot;},&quot;types&quot;:[&quot;staff&quot;],&quot;inHeader&quot;:true,&quot;url&quot;:&quot;https://connect.yandex.ru/suggest/&quot;}}"><span class="input input_size_ws-head input_pin_round-clear input_has-clear_yes input_theme_websearch input_role_search i-bem input_js_inited" data-bem="{&quot;input&quot;:{&quot;live&quot;:false}}"><label class="input__hint input__hint_visibility_visible" id="hintuniq16028589856426329" for="uniq16028589856426329" aria-hidden="true">Поиск</label><button class="button2 button2_type_check button2_size_head button2_theme_clear button2_view_classic input__filter b-head__search-button i-bem" data-bem="{&quot;button2&quot;:{}}" type="button" autocomplete="off" tabindex="-1" aria-pressed="false"><span class="icon icon_size_head icon_type_search button2__icon"></span></button><span class="input__box"><span class="input__clear" unselectable="on">&nbsp;</span><input class="input__control" id="uniq16028589856426329" name="text" placeholder="Поиск" aria-labelledby="labeluniq16028589856426329 hintuniq16028589856426329" autocomplete="off"></span></span></div></div><div class="search2__button"></div></form><a class="link link_theme_islands link_size_m link_type_settings i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="https://wiki.yandex.ru/_settings"><span class="icon icon_type_settings"></span></a><div class="user2 user2_fetch-accounts_yes user2_fetch-unread_yes user2_with-organizations_yes user2_fetch-organizations_yes i-bem" data-bem="{&quot;user2&quot;:{&quot;accountsUrl&quot;:&quot;https://api.passport.yandex.ru/all_accounts&quot;,&quot;organizationsUrl&quot;:&quot;https://api.directory.yandex.ru/v6/organizations-by-session/&quot;,&quot;contextSwitchUrl&quot;:&quot;https://connect.yandex.ru/portal/context?mode=portal&amp;origin=user2&amp;retpath=https%3A%2F%2Fwiki.yandex.ru%2FMashinnoe-zrenie%2FTensorflow-1.15ObjectdetectionAPI%2F&amp;sk=uf0cc91599af208e47ca70ceb5a9ae358&quot;,&quot;_uid&quot;:&quot;1130000045489958&quot;,&quot;_retpath&quot;:&quot;https://wiki.yandex.ru/Mashinnoe-zrenie/Tensorflow-1.15ObjectdetectionAPI/&quot;,&quot;_yu&quot;:&quot;7641708061581182161&quot;,&quot;_passportHost&quot;:&quot;https://passport.yandex.ru&quot;,&quot;_avatarHost&quot;:&quot;https://avatars.mds.yandex.net&quot;}}"><a class="user-account user-account_has-ticker_yes user-account_has-accent-letter_yes user-account_hide-name_yes user2__current-account i-bem" data-bem="{&quot;user-account&quot;:{}}" tabindex="0" href="https://passport.yandex.ru/"><div class="user-pic user-account__pic"><img class="user-pic__image" src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/islands-middle_002.png" srcset="https://avatars.mds.yandex.net/get-yapic/0/0-0/islands-middle 1x, https://avatars.mds.yandex.net/get-yapic/0/0-0/islands-retina-middle 2x"></div><span class="user-account__name">ea@varya.studio</span><span class="ticker ticker_state_empty user-account__ticker i-bem ticker_js_inited" data-bem="{&quot;ticker&quot;:{&quot;count&quot;:0,&quot;maxCount&quot;:99}}" role="alert" aria-live="assertive" aria-atomic="true"><span class="ticker__count ticker__plain"><span class="ticker__text a11y-hidden">Уведомлений</span><span class="ticker__value" title="0">0</span></span></span></a><a class="link link_theme_pseudo user2__a11y-exit a11y-hidden i-bem" data-bem="{&quot;link&quot;:{}}" accesskey="x" tabindex="-1" href="https://passport.yandex.ru/passport?mode=embeddedauth&amp;action=logout&amp;yu=7641708061581182161&amp;uid=1130000045489958&amp;retpath=https%3A%2F%2Fwiki.yandex.ru%2FMashinnoe-zrenie%2FTensorflow-1.15ObjectdetectionAPI%2F">Выйти</a><div class="light-popup light-popup_autoclosable_yes light-popup_animated_yes user2__popup i-bem light-popup_js_inited" data-bem="{&quot;light-popup&quot;:{&quot;moved&quot;:true}}"><ul class="menu menu_type_navigation menu_view_classic user2__menu i-bem" data-bem="{&quot;menu&quot;:{}}"><div class="user2__menu-header"><div class="user-account user-account_has-subname_yes user2__account i-bem" data-bem="{&quot;user-account&quot;:{}}" tabindex="0"><div class="user-pic user-account__pic"><img class="user-pic__image" src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/islands-middle_002.png" srcset="https://avatars.mds.yandex.net/get-yapic/0/0-0/islands-middle 1x, https://avatars.mds.yandex.net/get-yapic/0/0-0/islands-retina-middle 2x"></div><span class="user-account__name">ea@varya.studio</span></div></div><div class="user2__organizations user2__organizations_collapsed_yes"><div class="spin2 spin2_size_xs spin2_view_default spin2_tone_default user2__accounts-spin"></div><a class="user-organization user-organization_template_yes i-bem" data-bem="{&quot;user-organization&quot;:{}}" tabindex="0" href="https://connect.yandex.ru/portal/context?mode=portal&amp;origin=user2&amp;retpath=https%3A%2F%2Fwiki.yandex.ru%2FMashinnoe-zrenie%2FTensorflow-1.15ObjectdetectionAPI%2F&amp;sk=uf0cc91599af208e47ca70ceb5a9ae358"><div class="user-organization__pic"><img class="user-organization__image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='43' height='31' viewBox='0 0 43 31' fill='none'%3E%3Cpath fill='%23DADADA' d='M6.25.6h30v20h-30z'/%3E%3Cpath fill='%23979797' fill-rule='evenodd' d='M6.25 20.6h30v5H0l6.25-5z' clip-rule='evenodd'/%3E%3Cpath fill='%23C6C6C6' d='M13.75 10.6h22.5v15h-22.5z'/%3E%3Cpath fill='%23979797' fill-rule='evenodd' d='M13.75 25.6h22.5l6.25 5H13.75v-5z' clip-rule='evenodd'/%3E%3C/svg%3E%0A"></div><span class="user-organization__name"></span></a><div class="user2__organizations-cropper"></div><a class="user2__add-organization menu__item" href="https://connect.yandex.ru/portal/registration?action=add&amp;source=&amp;preset=&amp;retpath=https%3A%2F%2Fwiki.yandex.ru%2FMashinnoe-zrenie%2FTensorflow-1.15ObjectdetectionAPI%2F"><span class="user2__add-org-pic"></span><span class="user2__add-org-name">Добавить организацию</span></a><span class="icon icon_glyph_type-arrow icon_size_s icon_has-glyph_yes user2__expand-organizations-icon"><svg width="0" height="0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 8"><path d="M11.3 1L6.5 5.7 1.7 1l-.7.7L6.5 7 12 1.7l-.7-.7z"></path></svg></span></div><ul class="menu__group" role="group"><li class="menu__list-item"><a class="menu__item menu__item_type_link user2__menu-item user2__menu-item_action_mail" data-bem="{&quot;menu__item&quot;:{}}" role="link" href="https://mail.yandex.ru/" tabindex="0"><span class="menu__text">Почта<span class="user2__menu-counter user2__menu-counter_state_empty" role="alert">0</span></span></a></li><li class="menu__list-item"><a class="menu__item menu__item_type_link user2__menu-item user2__menu-item_action_passport" data-bem="{&quot;menu__item&quot;:{}}" role="link" href="https://passport.yandex.ru/" tabindex="0"><span class="menu__text">Управление аккаунтом</span></a></li><li class="menu__list-item"><a class="menu__item menu__item_type_link user2__menu-item user2__menu-item_action_exit" data-bem="{&quot;menu__item&quot;:{}}" role="link" href="https://passport.yandex.ru/passport?mode=embeddedauth&amp;action=logout&amp;yu=7641708061581182161&amp;uid=1130000045489958&amp;retpath=https%3A%2F%2Fwiki.yandex.ru%2FMashinnoe-zrenie%2FTensorflow-1.15ObjectdetectionAPI%2F" tabindex="0"><span class="menu__text">Выйти</span></a></li></ul><div class="user2__multi-auth"><div class="user2__accounts"><div class="spin2 spin2_size_xs spin2_view_default spin2_tone_default user2__accounts-spin"></div><div class="user2__accounts-container"><li class="menu__list-item"><div class="menu__item" data-bem="{&quot;menu__item&quot;:{}}"><div class="user-account user-account_template_yes user2__account i-bem" data-bem="{&quot;user-account&quot;:{}}" tabindex="0"><div class="user-pic user-account__pic"><img class="user-pic__image"></div><span class="user-account__name"><span class="user-account__name-text"></span><span class="user-account__subname"></span></span></div></div></li></div><li class="menu__list-item"><div class="menu__item" data-bem="{&quot;menu__item&quot;:{}}"><a class="user-account user2__add-account i-bem" data-bem="{&quot;user-account&quot;:{}}" tabindex="0" href="https://passport.yandex.ru/auth?mode=add-user&amp;retpath=https%3A%2F%2Fwiki.yandex.ru%2FMashinnoe-zrenie%2FTensorflow-1.15ObjectdetectionAPI%2F"><div class="user-account__pic"></div><span class="user-account__name">Добавить аккаунт</span></a></div></li></div></div><div class="user2__menu-footer"><a class="button2 button2_theme_clear button2_size_s button2_type_link button2_view_classic user2__footer-link i-bem" data-bem="{&quot;button2&quot;:{}}" tabindex="0" href="https://yandex.ru/tune"><span class="button2__text">Настройки</span></a><a class="button2 button2_theme_clear button2_size_s button2_type_link button2_view_classic user2__footer-link i-bem" data-bem="{&quot;button2&quot;:{}}" tabindex="0" href="https://yandex.ru/support/"><span class="button2__text">Помощь</span></a></div></ul></div></div></div></div></div></div><script nonce="">!function(i,t){if(i.Ya=i.Ya||{},Ya.Rum)throw new Error("Rum: interface is already defined");var n=i.performance,e=n&&n.timing&&n.timing.navigationStart||Ya.startPageLoad||+new Date,s=i.requestAnimationFrame;Ya.Rum={enabled:!!n,vsStart:document.visibilityState,vsChanged:!1,_defTimes:[],_defRes:[],_deltaMarks:{},_markListeners:{},_settings:{},_vars:{},init:function(i,t){this._settings=i,this._vars=t},getTime:n&&n.now?function(){return n.now()}:Date.now?function(){return Date.now()-e}:function(){return new Date-e},time:function(i){this._deltaMarks[i]=[this.getTime()]},timeEnd:function(i,t){var n=this._deltaMarks[i];n&&0!==n.length&&n.push(this.getTime(),t)},sendTimeMark:function(i,t,n,e){void 0===t&&(t=this.getTime()),this._defTimes.push([i,t,e]),this.mark(i,t)},sendResTiming:function(i,t){this._defRes.push([i,t])},sendRaf:function(i){var t=this.getSetting("forcePaintTimeSending");if(s&&(t||!this.isVisibilityChanged())){var n=this,e="2616."+i;s(function(){!t&&n.isVisibilityChanged()||(n.getSetting("sendFirstRaf")&&n.sendTimeMark(e+".205"),s(function(){!t&&n.isVisibilityChanged()||n.sendTimeMark(e+".1928")}))})}},isVisibilityChanged:function(){return this.vsStart&&("visible"!==this.vsStart||this.vsChanged)},mark:n&&n.mark?function(i,t){n.mark(i+(t?": "+t:""))}:function(){},getSetting:function(i){var t=this._settings[i];return null===t?null:t||""},on:function(i,t){"function"==typeof t&&(this._markListeners[i]=this._markListeners[i]||[]).push(t)},sendTrafficData:function(){},finalizeLayoutShiftScore:function(){},finalizeLargestContentfulPaint:function(){}},document.addEventListener&&document.addEventListener("visibilitychange",function i(){Ya.Rum.vsChanged=!0,document.removeEventListener("visibilitychange",i)})}(window);

!function(){if(window.PerformanceLongTaskTiming){var e=function(e,n){return(e=e.concat(n)).length>300&&(e=e.slice(e.length-300)),e},n=Ya.Rum._tti={events:[],eventsAfterTTI:[],fired:!1,observer:new PerformanceObserver(function(r){var t=r.getEntries();n.events=e(n.events,t),n.fired&&(n.eventsAfterTTI=e(n.eventsAfterTTI,t))})};n.observer.observe({entryTypes:["longtask"]})}}();

!function(){var e,t=[];function n(){var n=Ya.Rum.getSetting("clck"),i=t.join("\r\n");if(t=[],e=null,n&&!(navigator.sendBeacon&&Ya.Rum.getSetting("beacon")&&navigator.sendBeacon(n,i))){var a=new XMLHttpRequest;a.open("POST",n),a.send(i)}}Ya.Rum.send=function(i,a,o,s,g,u,r){clearTimeout(e);var m=Ya.Rum.getSetting("slots"),c=Ya.Rum.getSetting("experiments"),v=["/reqid="+Ya.Rum.getSetting("reqid"),r?"/"+r.join("/"):"",a?"/path="+a:"",g?"/events="+g:"",m?"/slots="+m.join(";"):"",c?"/experiments="+c.join(";"):"",o?"/vars="+o:"","/cts="+(new Date).getTime(),"/*"];t.push(v.join("")),t.length<42?e=setTimeout(n,15):n()}}();

Ya.Rum.observeDOMNode=window.IntersectionObserver?function(e,i,n){var t=this,o=Ya.Rum.getSetting("forcePaintTimeSending");!function r(){if(o||!t.isVisibilityChanged()){var s="string"==typeof i?document.querySelector(i):i;s?new IntersectionObserver(function(i,n){!o&&t.isVisibilityChanged()||(Ya.Rum.sendTimeMark(e),n.unobserve(s))},n).observe(s):setTimeout(r,100)}}()}:function(){};
</script><script nonce="">Ya.Rum.init({"beacon":true,"clck":"https://yandex.ru/clck/click","slots":[],"reqid":"04kgiadeg6","crossOrigin":""}, {"143":"28.2502.3298.2048.1213","287":"213","-project":"wiki","-page":"article","-platform":"desktop","-version":"10.183.0-2742214eacafe345dde35725a5106d698d40bb81.0"});</script><script nonce="">Ya.Rum.sendTimeMark(3152);</script><div class="i-metrica i-bem i-metrica_js_inited" data-bem="{&quot;i-metrica&quot;:{&quot;visitParams&quot;:{&quot;id&quot;:&quot;813822&quot;},&quot;userParams&quot;:{&quot;org_id&quot;:&quot;813822&quot;,&quot;uid&quot;:&quot;1130000045489958&quot;}}}"></div><div class="wi-store i-bem wi-store_js_inited" data-bem="{&quot;wi-store&quot;:{&quot;model&quot;:&quot;session&quot;,&quot;id&quot;:&quot;session&quot;,&quot;data&quot;:{}}}" style="display: none"></div><div class="wi-store i-bem wi-store_js_inited" data-bem="{&quot;wi-store&quot;:{&quot;model&quot;:&quot;application&quot;,&quot;id&quot;:&quot;app&quot;,&quot;data&quot;:{&quot;action&quot;:&quot;view&quot;,&quot;view&quot;:&quot;view&quot;,&quot;sidebar&quot;:&quot;closed&quot;,&quot;contentLoaded&quot;:true}}}" style="display: none"></div><div class="b-page__content"><div class="wi-store i-bem wi-store_js_inited" data-bem="{&quot;wi-store&quot;:{&quot;model&quot;:&quot;page&quot;,&quot;id&quot;:&quot;page&quot;,&quot;data&quot;:{&quot;type&quot;:&quot;article&quot;,&quot;tag&quot;:&quot;Машинное-зрение/Tensorflow-1.15_Object_detection_API&quot;,&quot;superTag&quot;:&quot;mashinnoe-zrenie/tensorflow-1.15objectdetectionapi&quot;,&quot;url&quot;:&quot;/mashinnoe-zrenie/tensorflow-1.15objectdetectionapi&quot;,&quot;version&quot;:31997411,&quot;userSubscription&quot;:&quot;none&quot;,&quot;translation&quot;:&quot;&quot;,&quot;redirect&quot;:false,&quot;redirectedFrom&quot;:&quot;&quot;,&quot;title&quot;:&quot;Подготовка работы Tensorflow 1.15 &amp; Object_detection_API&quot;,&quot;comments&quot;:true,&quot;authors&quot;:[{&quot;uid&quot;:1130000039135663,&quot;login&quot;:&quot;eugenel&quot;,&quot;first_name&quot;:&quot;Evgeniy&quot;,&quot;last_name&quot;:&quot;Lesiv&quot;,&quot;display&quot;:&quot;Evgeniy Lesiv&quot;,&quot;email&quot;:&quot;eugenel@varya.studio&quot;,&quot;is_admin&quot;:false,&quot;is_external_employee&quot;:false,&quot;is_dismissed&quot;:false}],&quot;currentUser&quot;:{&quot;uid&quot;:1130000045489958,&quot;login&quot;:&quot;ea&quot;,&quot;first_name&quot;:&quot;Evgeniy&quot;,&quot;last_name&quot;:&quot;Andreev&quot;,&quot;display&quot;:&quot;Evgeniy Andreev&quot;,&quot;email&quot;:&quot;ea@varya.studio&quot;,&quot;is_admin&quot;:false,&quot;is_external_employee&quot;:false,&quot;is_dismissed&quot;:false,&quot;settings&quot;:{&quot;code_theme&quot;:&quot;github&quot;,&quot;propose_content_translation&quot;:false,&quot;use_nodejs_frontend&quot;:true,&quot;use_full_width_content&quot;:false,&quot;use_new_wf&quot;:false,&quot;language&quot;:&quot;ru&quot;},&quot;avatar&quot;:&quot;0/0-0&quot;},&quot;withNewWf&quot;:true,&quot;isOfficial&quot;:false,&quot;isOld&quot;:false,&quot;modifiedAt&quot;:&quot;2020-09-19T10:13:09&quot;,&quot;access&quot;:{&quot;type&quot;:&quot;inherited&quot;,&quot;parent_access&quot;:&quot;common&quot;},&quot;isFav&quot;:false,&quot;isReadonly&quot;:false,&quot;raw&quot;:&quot;====Подготовка  работы  Tensorflow 1.15 &amp; Object_detection_API====\n1. Необходимо загрузить и установить  NVIDIA  GeForce  Experience\n1. Установка Visual Studio (Visual Studio 2017). Отдельная установка Microsoft  Visual C++ Build  Tools для меня не решила проблему.\n1. Загрузка и установка CUDA  v10.0.130_win10 \nhttps://developer.nvidia.com/cuda-10.0-download-archive?target_os=Windows&amp;target_arch=x86_64&amp;target_version=10&amp;target_type=exenetwork\nУстанавливаем  переменные среды:\nC:\\Program Files\\NVIDIA GPU Computing  Toolkit\\CUDA\\v10.0\\bin\nC:\\Program Files\\NVIDIA GPU Computing  Toolkit\\CUDA\\v10.0\\lib\\x64\nC:\\Program Files\\NVIDIA GPU Computing  Toolkit\\CUDA\\v10.0\\include  \n1. Загрузка и распаковка cuDNN  v7.6.4.38 для CUDA v10.0\n    ((https://developer.nvidia.com/rdp/cudnn-archive https://developer.nvidia.com/rdp/cudnn-archive))\nКопируем  соответствующие файлы:\n&lt;**installpath**&gt;\\cuda\\bin\\cudnn64_7.dll  в  C:\\Program  Files\\NVIDIA  GPU  Computing  Toolkit\\CUDA\\v10.0\\bin.\n&lt;**installpath**&gt;\\cuda\\ include\\cudnn.h  в C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\include.\n&lt;**installpath**&gt;\\cuda\\lib\\x64\\cudnn.lib в C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\lib\\x64.\n1. Установка Anaconda и настройка среды \nСоздаем новую virtual  environment и выполняем:\nconda  activate &lt;**environment_name**&gt;\nconda install tensorflow-gpu==1.15\nconda install -c anaconda protobuf\npip install pillow\npip install lxml\npip install Cython\npip install contextlib2\npip install matplotlib\npip install pandas\npip install opencv-python\npip install git+https://github.com/philferriere/cocoapi.git#subdirectory=PythonAPI\n//Возможно для выполнения этой команды потребуется запуск через терминал VS (Пуск -&gt; Visual Studio 20__ -&gt; x64 Native Tools Command Prompt for VS 20__), в котором нужно будет сначала войти в созданную среду с помощью conda  activate &lt;**environment_name**&gt;\nПроверка  поддержки GPU:\nimport tensorflow as tf\ntf.test.gpu_device_name()\n...\nЕсли возникает ошибка на строке \&quot;import tensorflow as tf\&quot;: %%\n...\n\&quot;File \&quot;C:\\Users\\user\\...&lt;path to env&gt;...\\env_name\\lib\\imp.py\&quot;, line 343, in load_dynamic\nreturn _load(spec)\nImportError: DLL load failed: The specified module could not be found.\&quot;\nDuring handling of the above exception, another exception occurred:\n...\n%%\nТо может помочь понижение версии Tensor Flow: %%\nconda install tensorflow-gpu==1.14.0\n%%\n1.   Загрузка и распаковка ((https://github.com/tensorflow/models))\nУстанавливаем  переменные среды:\nC:\\tf_models\\models\nC:\\tf_models\\models\\research\nC:\\tf_models\\models\\research\\slim\nПосле чего выполняем команды:\nset PYTHONPATH=C:\\tf_models\\models;C:\\tf_models\\models\\research;C:\\tf_models\\models\\research\\slim;C:\\tf_models\\models\\research\\slim\\nets\ncd C:\\tf_models\\models\\research\nprotoc --python_out=. .\\object_detection\\protos\\anchor_generator.proto .\\object_detection\\protos\\argmax_matcher.proto .\\object_detection\\protos\\bipartite_matcher.proto .\\object_detection\\protos\\box_coder.proto .\\object_detection\\protos\\box_predictor.proto .\\object_detection\\protos\\eval.proto .\\object_detection\\protos\\faster_rcnn.proto .\\object_detection\\protos\\faster_rcnn_box_coder.proto .\\object_detection\\protos\\grid_anchor_generator.proto .\\object_detection\\protos\\hyperparams.proto .\\object_detection\\protos\\image_resizer.proto .\\object_detection\\protos\\input_reader.proto .\\object_detection\\protos\\losses.proto .\\object_detection\\protos\\matcher.proto .\\object_detection\\protos\\mean_stddev_box_coder.proto .\\object_detection\\protos\\model.proto .\\object_detection\\protos\\optimizer.proto .\\object_detection\\protos\\pipeline.proto .\\object_detection\\protos\\post_processing.proto .\\object_detection\\protos\\preprocessor.proto .\\object_detection\\protos\\region_similarity_calculator.proto .\\object_detection\\protos\\square_box_coder.proto .\\object_detection\\protos\\ssd.proto .\\object_detection\\protos\\ssd_anchor_generator.proto .\\object_detection\\protos\\string_int_label_map.proto .\\object_detection\\protos\\train.proto .\\object_detection\\protos\\keypoint_box_coder.proto .\\object_detection\\protos\\multiscale_anchor_generator.proto .\\object_detection\\protos\\graph_rewriter.proto .\\object_detection\\protos\\calibration.proto .\\object_detection\\protos\\center_net.proto  .\\object_detection\\protos\\flexible_grid_anchor_generator.proto .\\object_detection\\protos\\target_assigner.proto\npython setup.py build\npython setup.py install\n1. Возможные ошибки\n**ModuleNotFoundError****: No module named 'nets'**\nЕсли  все  переменные  установлены, но  все  равно  возникает  ошибка  копируем  всю  папку nets из  папки slim в  папку C:\\Users\\ &lt;**user**&gt;\\Anaconda3\\envs\\&lt;**env_name**&gt;\\Lib\\site-packages\\object_detection-0.1-py3.6.egg\n**TypeError****: can't pickle** **dict_values** **objects**\nДобавьте  list() к category_index.values() в   C:\\\\models\\research\\object_detection\\model_lib.py о строке  418  list(category_index.values()).\n**mportError****: cannot import name 'slim' from '****tf_slim****' (/Users/uthayan.manavalan/anaconda3/envs/cnn/lib/python3.7/site-packages/tf_slim/init.py)**\npip  install --upgrade  tf-slim\n**Error when evaluate: object of type &lt;class '****numpy.float****64'&gt; cannot be safely interpreted as an integer**\nИзмените  версию  numpy на 1.17 вместо 1.18.\n====Подготовка обучающего набора из видео====\n        На входном наборе несортированных видео  применяется утилита sort_video.py, которая в каждом видео осуществляет поиск сыра и ждет подтверждения оператора о принадлежности найденного класса сыра. На выходе формируются списки видео для каждого типа сыра.\n\n\tНарезка обучающих кадров для каждого типа сыра осуществляется с помощью утилиты cut_dataset.py. В данной утилите осуществляется поиск и выделения сыра на каждом кадре, после чего формируются обучающие примеры, включающие .png изображение и .txt  аннотацию. Для получения более качественных аннотаций в cut_dataset.py встроена возможность динамической подстройки цветовой маски, позволяющей точнее описать объект.\n\n\tДалее обучающий набор представляется в виде .csv таблиц с помощью утилиты txt_to_csv.py. После чего из .csv файлов с помощью generate_tfrecord.py формируется подходящие для обучения структуры данных .record\n====Запуск  процесса  обучения====\n1. Для  начала  обучения  требуется  загрузить требуемую нейросетевую модель из  https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/tf1_detection_zoo.md\n1. Создаем файл меток классов .pbtxt вида:\n%%item {\n  id: 1\n  name: 'brick'\n}\nitem {\n    id: 2\n    name: 'shaiba_big'\n}%%\n1. Дальше  изменяем  конфигурационный  файл:\n*  Задаем требуемое число классов\nnum_classes: 4\n* Задаем размер партии\nbatch_size: 4  \n* Определяем пути:\nfine_tune_checkpoint: \&quot;C:/../train/model.ckpt\&quot;\nlabel_map_path: \&quot;C:/../train/object-detection.pbtxt\&quot;\ntrain_input_reader  { input_path: \&quot;C:/../data/train.record\&quot;\neval_input_reader  { input_path: \&quot;C:/../data/val.record\&quot;\n4. Запуск  процесса  обучения:\npython model_main.py --model_dir=training --pipeline_config_path=train/pipeline.config\n1. Возможные  ошибки:\n**Not found: Key BoxPredictor_0/BoxEncodingPredictor/biases/ExponentialMovingAverage not found in checkpoint**\nДобавьте  строку  use_moving_averages: false в  раздел  evel_config  в  конфигурационном  файле  сети\n**Restoring from checkpoint failed. This is most likely due to a Variable name or other graph key that is missing from the checkpoint**\nТребуется изменить директорию модели, где вы сохранены старые контрольные точки.\n**Для видеокарт серии** **RTX** **и при возникновении ошибок типа** \n**Could not create** **cudnn** **handle: CUDNN_STATUS_INTERNAL_ERROR**\n**Could not destroy** **cudnn** **handle: CUDNN_STATUS_BAD_PARAM**\n**Could not create** **cudnn** **handle: CUDNN_STATUS_ALLOC_FAILED**\n**Could not create** **cudnn** **handle: CUDNN_STATUS_INTERNAL_ERROR**\nСледует изменить строки model_main.py  \n%%config = tf.estimator.RunConfig(model_dir=FLAGS.model_dir)%%\nНа  \n%%session_config = tf.ConfigProto()\nsession_config.gpu_options.allow_growth = True \n#  session_config.gpu_options.per_process_gpu_memory_fraction = .8    \nconfig=tf.estimator.RunConfig(model_dir=FLAGS.model_dir, session_config=session_config)%%\nСтроки  inference_case.py\n%%with detection_graph.as_default():\n  with tf.compat.v1.Session(graph=detection_graph) as sess:%%\nНа\n%%session_config = tf.compat.v1.ConfigProto()\nsession_config.gpu_options.allow_growth = True                                                         \n# session_config.gpu_options.per_process_gpu_memory_fraction = .8        \nwith detection_graph.as_default():\n  with tf.compat.v1.Session(graph=detection_graph, config=session_config) as sess:%%\nПри  нехватке  видеопамяти  раскомментировать  строку\n%%session_config.gpu_options.per_process_gpu_memory_fraction = .8%%\n...\nЕсли при попытке запуска процесса обучения возникает ошибка:\n %%\nWindows fatal exception: access violation\n\nCurrent thread 0x00000708 (most recent call first):\nFile \&quot;C:\\Users\\&lt;path_to_env&gt;\\lib\\site-packages\\tensorflow\\python\\lib\\io\\file_io.py\&quot;, line 84 in _preread_check\n%%\nТо первым делом надо проверить правильность путей, которые указывали в /train/pipeline.config.\n5. Для отслеживания процесса обучения сети надо использовать программу tensorboard. В отдельном терминале нужно активировать свою виртуальную среду (которую создали ранее для работы с tensorflow-gpu), затем выполнить: \n %%\ntensorboard --logdir C:/PythonProject/&lt;path_to_dir&gt;/training\n%%\nВ конце отклика в терминале будет ссылка на веб-страницу, которую надо открыть в браузере.\n...\nЕсли при этом возникает ошибка: \n %%\nValueError: Not a TBLoader or TBPlugin subclass: &lt;class 'tensorboard_plugin_wit.wit_plugin_loader.WhatIfToolPluginLoader'&gt;\n%%, \nпомогает удаление проблемного плагина (https://github.com/tensorflow/tensorboard/issues/3549):\n %%\npip uninstall tensorboard-plugin-wit\n%%\n...\nЕсли при запуске tensorboard указать только папку, где находится информация по тренировке, могут быть проблемы с открытием веб-страницы (веб-страница не доступна в браузере). Может помочь указание не только папки с тренировкой, но и хоста и порта (https://stackoverflow.com/questions/40106949/unable-to-open-tensorboard-in-browser): \n %%\ntensorboard --logdir C:/PythonProject/&lt;path_to_dir&gt;/training --host localhost --port 8088\n%%\n====Экспортирование  графа  вычислений====\npython export_inference_graph.py --input_type  image_tensor --pipeline_config_path train/pipeline.config --trained_checkpoint_prefix training/model.ckpt-66184 --output_directory inference\n====Проверка работы сети на видео====\nЗапуск проверки на видео осуществляется с помощью утилиты inference_case.py. При этом имеется два режима чтения видео. Первый, последовательное чтение видео из папки videos. Второй, использование сформированных для обучения списков видеофайлов для отдельных классов.\n====Проверка работы сети на изображениях====\nЗапуск проверки на изображениях осуществляется с помощью утилиты inference_images.py последовательным чтением из папки data/images&quot;,&quot;canSwitchWf&quot;:false,&quot;canEdit&quot;:true}}}" style="display: none"></div><div class="page-layout page-layout_sidebar_close page-layout_page_article i-bem page-layout_js_inited" data-bem="{&quot;page-layout&quot;:{}}"><div class="sidebar sidebar_state_close sidebar_full-height_yes mi-sticky mi-sticky_full-height_yes wiki-sidebar wi-files-dropper page-layout__sidebar wiki-sidebar wi-files-dropper page-layout__sidebar i-bem sidebar_js_inited mi-sticky_js_inited wi-files-dropper_js_inited wiki-sidebar_js_inited" data-bem="{&quot;sidebar&quot;:{},&quot;mi-sticky&quot;:{&quot;placeholder&quot;:{&quot;width&quot;:&quot;&quot;},&quot;offset&quot;:{&quot;top&quot;:0,&quot;bottom&quot;:0}},&quot;wiki-sidebar&quot;:{&quot;tabs&quot;:{&quot;view&quot;:[&quot;toc&quot;,&quot;cluster-tree&quot;,&quot;files&quot;,&quot;events&quot;],&quot;edit&quot;:[&quot;hotkeys&quot;,&quot;files&quot;],&quot;grid&quot;:[&quot;grid-settings&quot;,&quot;grid-code&quot;,&quot;files&quot;,&quot;events&quot;]},&quot;view&quot;:&quot;view&quot;,&quot;selected&quot;:null},&quot;wi-files-dropper&quot;:{}}" style="inset: 0px auto 0px 0px;"><ul class="sidebar__tabs"><li class="sidebar__tab sidebar__tab_type_toc"><span class="awesome-icon awesome-icon_icon_list" title="Оглавление"></span></li><li class="sidebar__tab sidebar__tab_type_cluster-tree"><span class="awesome-icon awesome-icon_icon_sitemap" title="Подстраницы"></span></li><li class="sidebar__tab sidebar__tab_type_files"><span class="awesome-icon awesome-icon_icon_paperclip" title="Файлы"></span></li><li class="sidebar__tab sidebar__tab_type_events"><span class="awesome-icon awesome-icon_icon_clock-o" title="События"></span></li><span class="sidebar__close"></span></ul><div class="sidebar__content-container"><div class="sidebar__tab-content"></div><div class="sidebar__tab-content sidebar__tab-content_tab_toc"><div class="b-toc b-toc_type_sidebar i-bem b-toc_js_inited" data-bem="{&quot;b-toc&quot;:{}}"><div class="w-toc i-bem w-toc_js_inited" data-bem="{&quot;w-toc&quot;:{}}"><a class="link link_theme_dark w-toc__item w-toc__item_depth_3 i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="#podgotovkarabotytensorflow1.15objectdetectionapi">Подготовка  работы  Tensorflow 1.15 &amp; Object_detection_API</a><a class="link link_theme_dark w-toc__item w-toc__item_depth_3 i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="#podgotovkaobuchajushhegonaboraizvideo">Подготовка обучающего набора из видео</a><a class="link link_theme_dark w-toc__item w-toc__item_depth_3 i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="#zapuskprocessaobuchenija">Запуск  процесса  обучения</a><a class="link link_theme_dark w-toc__item w-toc__item_depth_3 i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="#jeksportirovaniegrafavychislenijj">Экспортирование  графа  вычислений</a><a class="link link_theme_dark w-toc__item w-toc__item_depth_3 i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="#proverkarabotysetinavideo">Проверка работы сети на видео</a><a class="link link_theme_dark w-toc__item w-toc__item_depth_3 i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="#proverkarabotysetinaizobrazhenijax">Проверка работы сети на изображениях</a></div></div></div><div class="sidebar__tab-content"></div><div class="sidebar__tab-content sidebar__tab-content_tab_cluster-tree"><div class="b-cluster-tree b-cluster-tree_type_sidebar b-cluster-tree_theme_dark i-bem b-cluster-tree_js_inited b-cluster-tree_sort_title" data-bem="{&quot;b-cluster-tree&quot;:{}}"><div class="b-cluster-tree__total">Подстраницы <span class="b-cluster-tree__total-count">0</span></div><div class="b-cluster-tree-sort b-cluster-tree-sort_theme_dark i-bem b-cluster-tree-sort_js_inited" data-bem="{&quot;b-cluster-tree-sort&quot;:{}}"><div class="b-cluster-tree-sort__select"><span class="select2 select2_theme_normal select2_size_s select2_type_radio select2_text_vary select2_popup_yes select2_view_classic i-bem select2_js_inited" data-bem="{&quot;select2&quot;:{&quot;text&quot;:&quot;—&quot;,&quot;checkedTexts&quot;:{}}}"><button class="button2 button2_width_max button2_size_s button2_theme_dark button2_view_classic select2__button i-bem button2_js_inited _popup2-destructor _popup2-destructor_js_inited" data-bem="{&quot;button2&quot;:{}}" type="button" autocomplete="off" tabindex="0" role="listbox" aria-labelledby="uniq16032176125971" aria-expanded="false"><span class="icon icon_size_s icon_type_arrow icon_direction_bottom button2__icon button2__icon_side_right select2__arrow i-bem icon_js_inited"></span><span class="button2__text" id="uniq16032176125971">По заголовку</span></button><div class="popup2 popup2_theme_normal popup2_target_anchor popup2_hiding_yes popup2_autoclosable_yes popup2_view_classic select2__popup i-bem popup2_js_inited" data-bem="{&quot;popup2&quot;:{&quot;directions&quot;:[&quot;bottom-left&quot;,&quot;bottom-right&quot;,&quot;top-left&quot;,&quot;top-right&quot;]}}"><div class="menu menu_theme_normal menu_width_max menu_size_s menu_type_radio menu_view_classic select2__menu i-bem menu_js_inited" data-bem="{&quot;menu&quot;:{}}" role="listbox" style="max-height: 872px;"><div class="menu__item menu__item_type_option menu__item_checked_yes" data-bem="{&quot;menu__item&quot;:{&quot;val&quot;:&quot;title&quot;}}" aria-selected="true" id="uniq505"><span class="menu__text">По заголовку</span></div><div class="menu__item menu__item_type_option" data-bem="{&quot;menu__item&quot;:{&quot;val&quot;:&quot;tag&quot;}}" id="uniq506"><span class="menu__text">По адресу</span></div><div class="menu__item menu__item_type_option" data-bem="{&quot;menu__item&quot;:{&quot;val&quot;:&quot;created_at&quot;}}" id="uniq507"><span class="menu__text">По дате создания</span></div><div class="menu__item menu__item_type_option" data-bem="{&quot;menu__item&quot;:{&quot;val&quot;:&quot;modified_at&quot;}}" id="uniq508"><span class="menu__text">По дате изменения</span></div></div></div></span></div></div><div class="b-cluster-tree-filter b-cluster-tree-filter_theme_dark i-bem b-cluster-tree-filter_js_inited" data-bem="{&quot;b-cluster-tree-filter&quot;:{}}"><span class="select2 select2_theme_normal select2_size_s select2_type_check select2_popup_yes select2_view_classic i-bem select2_js_inited" data-bem="{&quot;select2&quot;:{}}"><button class="button2 button2_width_max button2_size_s button2_theme_dark button2_view_classic button2_checked_yes select2__button i-bem button2_js_inited _popup2-destructor _popup2-destructor_js_inited" data-bem="{&quot;button2&quot;:{}}" type="button" autocomplete="off" tabindex="0" role="listbox" aria-labelledby="uniq16032176125972" aria-expanded="false" aria-multiselectable="true"><span class="icon icon_size_s icon_type_arrow icon_direction_bottom button2__icon button2__icon_side_right select2__arrow i-bem icon_js_inited"></span><span class="button2__text"><span class="awesome-icon awesome-icon_icon_filter"></span></span></button><div class="popup2 popup2_theme_normal popup2_target_anchor popup2_hiding_yes popup2_autoclosable_yes popup2_view_classic select2__popup i-bem popup2_js_inited" data-bem="{&quot;popup2&quot;:{&quot;directions&quot;:[&quot;bottom-left&quot;,&quot;bottom-right&quot;,&quot;top-left&quot;,&quot;top-right&quot;]}}"><div class="menu menu_theme_normal menu_width_max menu_size_s menu_type_check menu_view_classic select2__menu i-bem menu_js_inited" data-bem="{&quot;menu&quot;:{}}" role="listbox" aria-multiselectable="true" style="max-height: 872px;"><div class="menu__item menu__item_type_option menu__item_checked_yes" data-bem="{&quot;menu__item&quot;:{&quot;val&quot;:&quot;G&quot;}}" aria-selected="true" id="uniq533"><span class="menu__text">Таблицы</span></div><div class="menu__item menu__item_type_option" data-bem="{&quot;menu__item&quot;:{&quot;val&quot;:&quot;R&quot;}}" id="uniq534"><span class="menu__text">Страницы с перенаправлением</span></div><div class="menu__item menu__item_type_option" data-bem="{&quot;menu__item&quot;:{&quot;val&quot;:&quot;404&quot;}}" id="uniq535"><span class="menu__text">Несуществующие страницы</span></div><div class="menu__item menu__item_type_option" data-bem="{&quot;menu__item&quot;:{&quot;val&quot;:&quot;403&quot;}}" id="uniq536"><span class="menu__text">Страницы с закрытым доступом</span></div></div></div></span></div><div class="b-cluster-tree__list"></div></div></div></div><div class="sidebar__loader"><div class="spin2 spin2_size_l spin2_progress_yes spin2_view_default spin2_tone_default"></div></div></div><div class="page-layout__content"><img class="page-layout__qr" src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/a.png"><div class="b-readonly i-bem b-readonly_js_inited" data-bem="{&quot;b-readonly&quot;:{}}"><div class="b-readonly__wrapper"><div class="b-readonly__text">Вики находится в режиме «Только для чтения».<br>Сохранение изменений временно недоступно.</div><div class="b-readonly__close"><span class="awesome-icon awesome-icon_icon_remove"></span></div></div><div class="b-readonly__icon"></div></div><div class="b-page__copytracker"></div><div class="w-breadcrumbs i-bem w-breadcrumbs_js_inited" data-bem="{&quot;w-breadcrumbs&quot;:{}}"><div class="w-breadcrumbs__content"><a class="link link_theme_secondary i-bem link_js_inited" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="https://wiki.yandex.ru/mashinnoe-zrenie"><div class="link__wrapper">Машинное зрение</div></a><span class="awesome-icon awesome-icon_icon_angle-right awesome-icon_type_first"></span><a class="link link_theme_secondary awesome-icon i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="https://wiki.yandex.ru/mashinnoe-zrenie/tensorflow-1.15objectdetectionapi"><div class="link__wrapper">Подготовка работы Tensorflow 1.15 &amp; Object_detection_API</div></a></div></div><div class="b-content"><div></div><div class="w-page-panel i-bem w-page-panel_js_inited" data-bem="{&quot;w-page-panel&quot;:{}}"><div class="w-page-panel__left"><div class="w-page-main-info i-bem" data-bem="{&quot;w-page-main-info&quot;:{}}"><div class="w-page-main-info__left"><img class="w-userpic w-page-main-info__avatar" src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/islands-middle.png" width="32px" height="32px"></div><div class="w-page-main-info__right"><div class="w-page-main-info__first-author"><a class="m-username staff-lite-card w-page-main-info__first-author-link i-bem" data-bem="{&quot;staff-lite-card&quot;:{&quot;staffLiteHost&quot;:&quot;https://staff.yandex.ru/&quot;,&quot;user&quot;:&quot;eugenel&quot;}}" href="https://staff.yandex.ru//eugenel"><span class="m-username__first-letter">E</span>vgeniy Lesiv</a><span class="link link_theme_black link_pseudo_yes w-page-main-info__open-authors i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" role="button"><span class="link__inner"><span class="awesome-icon awesome-icon_icon_angle-down awesome-icon_role_show-authors"></span></span></span></div><div class="w-page-main-info__modified"><div class="w-page-main-info__updated">Обновлено 19 сентября, 2020 в 10:13</div></div></div></div><button class="button2 button2_theme_normal button2_size_s button2_view_classic w-access-button w-access-button_type_common w-page-panel__access i-bem" data-bem="{&quot;button2&quot;:{},&quot;w-access-button&quot;:{}}" type="button" autocomplete="off" tabindex="0"><span class="icon icon_size_s icon_type_lock button2__icon button2__icon_side_left"></span><span class="button2__text">Доступно всем сотрудникам</span></button></div><div class="w-page-panel__right"><button class="button2 button2_theme_normal button2_size_s button2_role_edit-page button2_view_classic w-page-panel__edit w-action w-action_type_edit w-action_theme_normal i-bem button2_js_inited w-action_js_inited" data-bem="{&quot;button2&quot;:{&quot;type&quot;:&quot;edit&quot;},&quot;w-action&quot;:{}}" type="button" autocomplete="off" tabindex="0"><span class="icon icon_size_s icon_type_pencil button2__icon button2__icon_side_left"></span><span class="button2__text">Редактировать</span></button><div class="dropdown2 dropdown2_switcher_button2 dropdown2_theme_normal dropdown2_autoclosable_yes dropdown2_role_subscribe dropdown2_view_classic w-subscribe-button w-subscribe-button_type_none w-mixed-tooltip i-bem w-mixed-tooltip_js_inited _popup2-destructor _popup2-destructor_js_inited" data-bem="{&quot;dropdown2&quot;:{},&quot;w-subscribe-button&quot;:{},&quot;w-mixed-tooltip&quot;:{&quot;screenWidthToShow&quot;:1200,&quot;tooltip&quot;:{&quot;block&quot;:&quot;tooltip&quot;,&quot;mods&quot;:{&quot;size&quot;:&quot;s&quot;,&quot;theme&quot;:&quot;normal&quot;},&quot;js&quot;:{&quot;to&quot;:&quot;bottom&quot;},&quot;content&quot;:&quot;Подписаться&quot;}}}"><button class="button2 button2_view_classic button2_size_s button2_theme_normal button2_small-screen-shrink_yes i-bem button2_js_inited" data-bem="{&quot;button2&quot;:{}}" type="button" autocomplete="off" tabindex="0"><span class="icon icon_size_s icon_type_eye-main button2__icon button2__icon_side_left"></span><span class="button2__text">Подписаться</span></button><div class="popup2 popup2_view_classic popup2_theme_normal popup2_autoclosable_yes popup2_target_anchor popup2_role_subscribe popup2_hiding_yes i-bem" data-bem="{&quot;popup2&quot;:{&quot;directions&quot;:[&quot;bottom-right&quot;]}}"><div class="menu menu_type_radio menu_theme_normal menu_size_m menu_view_classic i-bem" data-bem="{&quot;menu&quot;:{}}" tabindex="0" role="listbox"><div class="menu__item menu__item_type_option" data-bem="{&quot;menu__item&quot;:{&quot;val&quot;:&quot;page&quot;}}"><span class="icon icon_size_m icon_type_eye menu__icon"></span><span class="menu__text">Подписаться на страницу</span></div><div class="menu__item menu__item_type_option" data-bem="{&quot;menu__item&quot;:{&quot;val&quot;:&quot;cluster&quot;}}"><span class="icon icon_size_m icon_type_eye menu__icon"></span><span class="menu__text">Подписаться на весь раздел</span></div><div class="menu__item menu__item_type_option menu__item_checked_yes" data-bem="{&quot;menu__item&quot;:{&quot;val&quot;:&quot;none&quot;}}" aria-selected="true"><span class="icon icon_size_m icon_type_eye-slash menu__icon"></span><span class="menu__text">Отписаться</span></div></div></div><div class="popup2 popup2_target_anchor popup2_hiding_yes popup2_autoclosable_no popup2_view_classic popup2_theme_normal tooltip tooltip_size_s tooltip_theme_normal tooltip_view_classic i-bem tooltip_js_inited popup2_js_inited" data-bem="{&quot;popup2&quot;:{&quot;directions&quot;:[&quot;bottom-center&quot;]}}"><div class="tooltip__backdrop"><div class="popup2__tail"></div></div><div class="tooltip__content">Подписаться</div></div></div><button class="button2 button2_theme_normal button2_size_s button2_small-screen-shrink_yes button2_view_classic w-fav-button w-mixed-tooltip w-page-panel__fav i-bem button2_js_inited w-mixed-tooltip_js_inited _popup2-destructor _popup2-destructor_js_inited" data-bem="{&quot;button2&quot;:{},&quot;w-fav-button&quot;:{},&quot;w-mixed-tooltip&quot;:{&quot;screenWidthToShow&quot;:1200,&quot;tooltip&quot;:{&quot;block&quot;:&quot;tooltip&quot;,&quot;mods&quot;:{&quot;size&quot;:&quot;s&quot;,&quot;theme&quot;:&quot;normal&quot;},&quot;js&quot;:{&quot;to&quot;:&quot;bottom&quot;},&quot;content&quot;:&quot;В избранное&quot;}}}" type="button" autocomplete="off" tabindex="0"><span class="icon icon_size_s icon_type_bookmark-o button2__icon button2__icon_side_left"></span><span class="button2__text">В избранное</span><div class="popup2 popup2_target_anchor popup2_hiding_yes popup2_autoclosable_no popup2_view_classic popup2_theme_normal tooltip tooltip_size_s tooltip_theme_normal tooltip_view_classic i-bem tooltip_js_inited popup2_js_inited" data-bem="{&quot;popup2&quot;:{&quot;directions&quot;:[&quot;bottom-center&quot;]}}"><div class="tooltip__backdrop"><div class="popup2__tail"></div></div><div class="tooltip__content">В избранное</div></div></button><button class="button2 button2_size_s button2_theme_normal button2_role_more-actions button2_small-screen-shrink_yes button2_view_classic b-readonly-item b-page-more w-mixed-tooltip i-bem _popup2-destructor _popup2-destructor_js_inited button2_js_inited b-page-more_js_inited" data-bem="{&quot;button2&quot;:{},&quot;b-readonly-item&quot;:{},&quot;b-page-more&quot;:{&quot;pageData&quot;:{&quot;debug&quot;:{&quot;hostname&quot;:null,&quot;app_name&quot;:null,&quot;app_version&quot;:null,&quot;exec_duration&quot;:null,&quot;method&quot;:null,&quot;page&quot;:null,&quot;view&quot;:null},&quot;data&quot;:{&quot;page_type&quot;:&quot;article&quot;,&quot;is_redirect&quot;:false,&quot;breadcrumbs&quot;:[{&quot;tag&quot;:&quot;Машинное-зрение&quot;,&quot;url&quot;:&quot;/mashinnoe-zrenie&quot;,&quot;title&quot;:&quot;Машинное зрение&quot;,&quot;is_active&quot;:true},{&quot;tag&quot;:&quot;Машинное-зрение/Tensorflow-1.15_Object_detection_API&quot;,&quot;url&quot;:&quot;/mashinnoe-zrenie/tensorflow-1.15objectdetectionapi&quot;,&quot;title&quot;:&quot;Подготовка работы Tensorflow 1.15 &amp; Object_detection_API&quot;,&quot;is_active&quot;:true}],&quot;owner&quot;:{&quot;uid&quot;:1130000039135663,&quot;login&quot;:&quot;eugenel&quot;,&quot;first_name&quot;:&quot;Evgeniy&quot;,&quot;last_name&quot;:&quot;Lesiv&quot;,&quot;display&quot;:&quot;Evgeniy Lesiv&quot;,&quot;email&quot;:&quot;eugenel@varya.studio&quot;,&quot;is_admin&quot;:false,&quot;is_external_employee&quot;:false,&quot;is_dismissed&quot;:false},&quot;authors&quot;:[{&quot;uid&quot;:1130000039135663,&quot;login&quot;:&quot;eugenel&quot;,&quot;first_name&quot;:&quot;Evgeniy&quot;,&quot;last_name&quot;:&quot;Lesiv&quot;,&quot;display&quot;:&quot;Evgeniy Lesiv&quot;,&quot;email&quot;:&quot;eugenel@varya.studio&quot;,&quot;is_admin&quot;:false,&quot;is_external_employee&quot;:false,&quot;is_dismissed&quot;:false}],&quot;last_author&quot;:{&quot;uid&quot;:1130000043864519,&quot;login&quot;:&quot;a.voronkov&quot;,&quot;first_name&quot;:&quot;Andrey&quot;,&quot;last_name&quot;:&quot;Voronkov&quot;,&quot;display&quot;:&quot;Andrey Voronkov&quot;,&quot;email&quot;:&quot;a.voronkov@varya.studio&quot;,&quot;is_admin&quot;:false,&quot;is_external_employee&quot;:false,&quot;is_dismissed&quot;:false},&quot;access&quot;:{&quot;type&quot;:&quot;inherited&quot;,&quot;parent_access&quot;:&quot;common&quot;},&quot;current_user_subscription&quot;:&quot;none&quot;,&quot;version&quot;:&quot;31997411&quot;,&quot;user_css&quot;:null,&quot;bookmark&quot;:null,&quot;is_official&quot;:false,&quot;created_at&quot;:&quot;2020-07-15T17:52:29&quot;,&quot;modified_at&quot;:&quot;2020-09-19T10:13:09&quot;,&quot;actuality_status&quot;:&quot;actual&quot;,&quot;tag&quot;:&quot;Машинное-зрение/Tensorflow-1.15_Object_detection_API&quot;,&quot;supertag&quot;:&quot;mashinnoe-zrenie/tensorflow-1.15objectdetectionapi&quot;,&quot;url&quot;:&quot;/mashinnoe-zrenie/tensorflow-1.15objectdetectionapi&quot;,&quot;title&quot;:&quot;Подготовка работы Tensorflow 1.15 &amp; Object_detection_API&quot;,&quot;lang&quot;:&quot;&quot;,&quot;qr_url&quot;:&quot;https://disk.yandex.net/qr/?text=https%3A%2F%2Fwiki.yandex.ru%2F%D0%9C%D0%B0%D1%88%D0%B8%D0%BD%D0%BD%D0%BE%D0%B5-%D0%B7%D1%80%D0%B5%D0%BD%D0%B8%D0%B5%2FTensorflow-1.15_Object_detection_API%3FgAAAAABfjyjLxXdqUDBqim7DTL-BtdtcF2RLnx9FHrqRGz781Nd9mbuRnldwEbRTqSZgquyvDQkT6gqCEF2dB8CEodq_iI6nib1KoDonx7Oub-rTe4eAais%253D&quot;,&quot;with_new_wf&quot;:true,&quot;is_readonly&quot;:false,&quot;comments_count&quot;:0,&quot;comments_status&quot;:&quot;enabled&quot;,&quot;org&quot;:{&quot;dir_id&quot;:&quot;813822&quot;,&quot;label&quot;:&quot;pdd_label_varya.studio&quot;,&quot;name&quot;:&quot;varya.studio&quot;,&quot;lang&quot;:&quot;ru&quot;},&quot;notifier&quot;:{},&quot;special&quot;:false,&quot;source&quot;:{&quot;title&quot;:&quot;Подготовка работы Tensorflow 1.15 &amp; Object_detection_API&quot;,&quot;body&quot;:&quot;====Подготовка  работы  Tensorflow 1.15 &amp; Object_detection_API====\n1. Необходимо загрузить и установить  NVIDIA  GeForce  Experience\n1. Установка Visual Studio (Visual Studio 2017). Отдельная установка Microsoft  Visual C++ Build  Tools для меня не решила проблему.\n1. Загрузка и установка CUDA  v10.0.130_win10 \nhttps://developer.nvidia.com/cuda-10.0-download-archive?target_os=Windows&amp;target_arch=x86_64&amp;target_version=10&amp;target_type=exenetwork\nУстанавливаем  переменные среды:\nC:\\Program Files\\NVIDIA GPU Computing  Toolkit\\CUDA\\v10.0\\bin\nC:\\Program Files\\NVIDIA GPU Computing  Toolkit\\CUDA\\v10.0\\lib\\x64\nC:\\Program Files\\NVIDIA GPU Computing  Toolkit\\CUDA\\v10.0\\include  \n1. Загрузка и распаковка cuDNN  v7.6.4.38 для CUDA v10.0\n    ((https://developer.nvidia.com/rdp/cudnn-archive https://developer.nvidia.com/rdp/cudnn-archive))\nКопируем  соответствующие файлы:\n&lt;**installpath**&gt;\\cuda\\bin\\cudnn64_7.dll  в  C:\\Program  Files\\NVIDIA  GPU  Computing  Toolkit\\CUDA\\v10.0\\bin.\n&lt;**installpath**&gt;\\cuda\\ include\\cudnn.h  в C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\include.\n&lt;**installpath**&gt;\\cuda\\lib\\x64\\cudnn.lib в C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\lib\\x64.\n1. Установка Anaconda и настройка среды \nСоздаем новую virtual  environment и выполняем:\nconda  activate &lt;**environment_name**&gt;\nconda install tensorflow-gpu==1.15\nconda install -c anaconda protobuf\npip install pillow\npip install lxml\npip install Cython\npip install contextlib2\npip install matplotlib\npip install pandas\npip install opencv-python\npip install git+https://github.com/philferriere/cocoapi.git#subdirectory=PythonAPI\n//Возможно для выполнения этой команды потребуется запуск через терминал VS (Пуск -&gt; Visual Studio 20__ -&gt; x64 Native Tools Command Prompt for VS 20__), в котором нужно будет сначала войти в созданную среду с помощью conda  activate &lt;**environment_name**&gt;\nПроверка  поддержки GPU:\nimport tensorflow as tf\ntf.test.gpu_device_name()\n...\nЕсли возникает ошибка на строке \&quot;import tensorflow as tf\&quot;: %%\n...\n\&quot;File \&quot;C:\\Users\\user\\...&lt;path to env&gt;...\\env_name\\lib\\imp.py\&quot;, line 343, in load_dynamic\nreturn _load(spec)\nImportError: DLL load failed: The specified module could not be found.\&quot;\nDuring handling of the above exception, another exception occurred:\n...\n%%\nТо может помочь понижение версии Tensor Flow: %%\nconda install tensorflow-gpu==1.14.0\n%%\n1.   Загрузка и распаковка ((https://github.com/tensorflow/models))\nУстанавливаем  переменные среды:\nC:\\tf_models\\models\nC:\\tf_models\\models\\research\nC:\\tf_models\\models\\research\\slim\nПосле чего выполняем команды:\nset PYTHONPATH=C:\\tf_models\\models;C:\\tf_models\\models\\research;C:\\tf_models\\models\\research\\slim;C:\\tf_models\\models\\research\\slim\\nets\ncd C:\\tf_models\\models\\research\nprotoc --python_out=. .\\object_detection\\protos\\anchor_generator.proto .\\object_detection\\protos\\argmax_matcher.proto .\\object_detection\\protos\\bipartite_matcher.proto .\\object_detection\\protos\\box_coder.proto .\\object_detection\\protos\\box_predictor.proto .\\object_detection\\protos\\eval.proto .\\object_detection\\protos\\faster_rcnn.proto .\\object_detection\\protos\\faster_rcnn_box_coder.proto .\\object_detection\\protos\\grid_anchor_generator.proto .\\object_detection\\protos\\hyperparams.proto .\\object_detection\\protos\\image_resizer.proto .\\object_detection\\protos\\input_reader.proto .\\object_detection\\protos\\losses.proto .\\object_detection\\protos\\matcher.proto .\\object_detection\\protos\\mean_stddev_box_coder.proto .\\object_detection\\protos\\model.proto .\\object_detection\\protos\\optimizer.proto .\\object_detection\\protos\\pipeline.proto .\\object_detection\\protos\\post_processing.proto .\\object_detection\\protos\\preprocessor.proto .\\object_detection\\protos\\region_similarity_calculator.proto .\\object_detection\\protos\\square_box_coder.proto .\\object_detection\\protos\\ssd.proto .\\object_detection\\protos\\ssd_anchor_generator.proto .\\object_detection\\protos\\string_int_label_map.proto .\\object_detection\\protos\\train.proto .\\object_detection\\protos\\keypoint_box_coder.proto .\\object_detection\\protos\\multiscale_anchor_generator.proto .\\object_detection\\protos\\graph_rewriter.proto .\\object_detection\\protos\\calibration.proto .\\object_detection\\protos\\center_net.proto  .\\object_detection\\protos\\flexible_grid_anchor_generator.proto .\\object_detection\\protos\\target_assigner.proto\npython setup.py build\npython setup.py install\n1. Возможные ошибки\n**ModuleNotFoundError****: No module named 'nets'**\nЕсли  все  переменные  установлены, но  все  равно  возникает  ошибка  копируем  всю  папку nets из  папки slim в  папку C:\\Users\\ &lt;**user**&gt;\\Anaconda3\\envs\\&lt;**env_name**&gt;\\Lib\\site-packages\\object_detection-0.1-py3.6.egg\n**TypeError****: can't pickle** **dict_values** **objects**\nДобавьте  list() к category_index.values() в   C:\\\\models\\research\\object_detection\\model_lib.py о строке  418  list(category_index.values()).\n**mportError****: cannot import name 'slim' from '****tf_slim****' (/Users/uthayan.manavalan/anaconda3/envs/cnn/lib/python3.7/site-packages/tf_slim/init.py)**\npip  install --upgrade  tf-slim\n**Error when evaluate: object of type &lt;class '****numpy.float****64'&gt; cannot be safely interpreted as an integer**\nИзмените  версию  numpy на 1.17 вместо 1.18.\n====Подготовка обучающего набора из видео====\n        На входном наборе несортированных видео  применяется утилита sort_video.py, которая в каждом видео осуществляет поиск сыра и ждет подтверждения оператора о принадлежности найденного класса сыра. На выходе формируются списки видео для каждого типа сыра.\n\n\tНарезка обучающих кадров для каждого типа сыра осуществляется с помощью утилиты cut_dataset.py. В данной утилите осуществляется поиск и выделения сыра на каждом кадре, после чего формируются обучающие примеры, включающие .png изображение и .txt  аннотацию. Для получения более качественных аннотаций в cut_dataset.py встроена возможность динамической подстройки цветовой маски, позволяющей точнее описать объект.\n\n\tДалее обучающий набор представляется в виде .csv таблиц с помощью утилиты txt_to_csv.py. После чего из .csv файлов с помощью generate_tfrecord.py формируется подходящие для обучения структуры данных .record\n====Запуск  процесса  обучения====\n1. Для  начала  обучения  требуется  загрузить требуемую нейросетевую модель из  https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/tf1_detection_zoo.md\n1. Создаем файл меток классов .pbtxt вида:\n%%item {\n  id: 1\n  name: 'brick'\n}\nitem {\n    id: 2\n    name: 'shaiba_big'\n}%%\n1. Дальше  изменяем  конфигурационный  файл:\n*  Задаем требуемое число классов\nnum_classes: 4\n* Задаем размер партии\nbatch_size: 4  \n* Определяем пути:\nfine_tune_checkpoint: \&quot;C:/../train/model.ckpt\&quot;\nlabel_map_path: \&quot;C:/../train/object-detection.pbtxt\&quot;\ntrain_input_reader  { input_path: \&quot;C:/../data/train.record\&quot;\neval_input_reader  { input_path: \&quot;C:/../data/val.record\&quot;\n4. Запуск  процесса  обучения:\npython model_main.py --model_dir=training --pipeline_config_path=train/pipeline.config\n1. Возможные  ошибки:\n**Not found: Key BoxPredictor_0/BoxEncodingPredictor/biases/ExponentialMovingAverage not found in checkpoint**\nДобавьте  строку  use_moving_averages: false в  раздел  evel_config  в  конфигурационном  файле  сети\n**Restoring from checkpoint failed. This is most likely due to a Variable name or other graph key that is missing from the checkpoint**\nТребуется изменить директорию модели, где вы сохранены старые контрольные точки.\n**Для видеокарт серии** **RTX** **и при возникновении ошибок типа** \n**Could not create** **cudnn** **handle: CUDNN_STATUS_INTERNAL_ERROR**\n**Could not destroy** **cudnn** **handle: CUDNN_STATUS_BAD_PARAM**\n**Could not create** **cudnn** **handle: CUDNN_STATUS_ALLOC_FAILED**\n**Could not create** **cudnn** **handle: CUDNN_STATUS_INTERNAL_ERROR**\nСледует изменить строки model_main.py  \n%%config = tf.estimator.RunConfig(model_dir=FLAGS.model_dir)%%\nНа  \n%%session_config = tf.ConfigProto()\nsession_config.gpu_options.allow_growth = True \n#  session_config.gpu_options.per_process_gpu_memory_fraction = .8    \nconfig=tf.estimator.RunConfig(model_dir=FLAGS.model_dir, session_config=session_config)%%\nСтроки  inference_case.py\n%%with detection_graph.as_default():\n  with tf.compat.v1.Session(graph=detection_graph) as sess:%%\nНа\n%%session_config = tf.compat.v1.ConfigProto()\nsession_config.gpu_options.allow_growth = True                                                         \n# session_config.gpu_options.per_process_gpu_memory_fraction = .8        \nwith detection_graph.as_default():\n  with tf.compat.v1.Session(graph=detection_graph, config=session_config) as sess:%%\nПри  нехватке  видеопамяти  раскомментировать  строку\n%%session_config.gpu_options.per_process_gpu_memory_fraction = .8%%\n...\nЕсли при попытке запуска процесса обучения возникает ошибка:\n %%\nWindows fatal exception: access violation\n\nCurrent thread 0x00000708 (most recent call first):\nFile \&quot;C:\\Users\\&lt;path_to_env&gt;\\lib\\site-packages\\tensorflow\\python\\lib\\io\\file_io.py\&quot;, line 84 in _preread_check\n%%\nТо первым делом надо проверить правильность путей, которые указывали в /train/pipeline.config.\n5. Для отслеживания процесса обучения сети надо использовать программу tensorboard. В отдельном терминале нужно активировать свою виртуальную среду (которую создали ранее для работы с tensorflow-gpu), затем выполнить: \n %%\ntensorboard --logdir C:/PythonProject/&lt;path_to_dir&gt;/training\n%%\nВ конце отклика в терминале будет ссылка на веб-страницу, которую надо открыть в браузере.\n...\nЕсли при этом возникает ошибка: \n %%\nValueError: Not a TBLoader or TBPlugin subclass: &lt;class 'tensorboard_plugin_wit.wit_plugin_loader.WhatIfToolPluginLoader'&gt;\n%%, \nпомогает удаление проблемного плагина (https://github.com/tensorflow/tensorboard/issues/3549):\n %%\npip uninstall tensorboard-plugin-wit\n%%\n...\nЕсли при запуске tensorboard указать только папку, где находится информация по тренировке, могут быть проблемы с открытием веб-страницы (веб-страница не доступна в браузере). Может помочь указание не только папки с тренировкой, но и хоста и порта (https://stackoverflow.com/questions/40106949/unable-to-open-tensorboard-in-browser): \n %%\ntensorboard --logdir C:/PythonProject/&lt;path_to_dir&gt;/training --host localhost --port 8088\n%%\n====Экспортирование  графа  вычислений====\npython export_inference_graph.py --input_type  image_tensor --pipeline_config_path train/pipeline.config --trained_checkpoint_prefix training/model.ckpt-66184 --output_directory inference\n====Проверка работы сети на видео====\nЗапуск проверки на видео осуществляется с помощью утилиты inference_case.py. При этом имеется два режима чтения видео. Первый, последовательное чтение видео из папки videos. Второй, использование сформированных для обучения списков видеофайлов для отдельных классов.\n====Проверка работы сети на изображениях====\nЗапуск проверки на изображениях осуществляется с помощью утилиты inference_images.py последовательным чтением из папки data/images&quot;,&quot;version&quot;:&quot;31997411&quot;,&quot;supertag&quot;:&quot;mashinnoe-zrenie/tensorflow-1.15objectdetectionapi&quot;},&quot;bemjson&quot;:{&quot;html&quot;:&quot;&lt;div class=\&quot;wiki-doc wiki-doc_magiclinks_yes wiki-doc_wiki_yes woof wf-doc wf-doc_magiclinks_yes wf-doc_wiki_yes i-bem\&quot; data-woof='{\&quot;wiki-doc\&quot;:{}}' data-wf=\&quot;{&amp;quot;user&amp;quot;:{&amp;quot;codeTheme&amp;quot;:&amp;quot;github&amp;quot;},&amp;quot;toc&amp;quot;:[{&amp;quot;type&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;depth&amp;quot;:3,&amp;quot;anchor&amp;quot;:&amp;quot;podgotovkarabotytensorflow1.15objectdetectionapi&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;Подготовка  работы  Tensorflow 1.15 &amp;amp; Object_detection_API&amp;quot;,&amp;quot;isMd&amp;quot;:false},{&amp;quot;type&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;depth&amp;quot;:3,&amp;quot;anchor&amp;quot;:&amp;quot;podgotovkaobuchajushhegonaboraizvideo&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;Подготовка обучающего набора из видео&amp;quot;,&amp;quot;isMd&amp;quot;:false},{&amp;quot;type&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;depth&amp;quot;:3,&amp;quot;anchor&amp;quot;:&amp;quot;zapuskprocessaobuchenija&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;Запуск  процесса  обучения&amp;quot;,&amp;quot;isMd&amp;quot;:false},{&amp;quot;type&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;depth&amp;quot;:3,&amp;quot;anchor&amp;quot;:&amp;quot;jeksportirovaniegrafavychislenijj&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;Экспортирование  графа  вычислений&amp;quot;,&amp;quot;isMd&amp;quot;:false},{&amp;quot;type&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;depth&amp;quot;:3,&amp;quot;anchor&amp;quot;:&amp;quot;proverkarabotysetinavideo&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;Проверка работы сети на видео&amp;quot;,&amp;quot;isMd&amp;quot;:false},{&amp;quot;type&amp;quot;:&amp;quot;heading&amp;quot;,&amp;quot;depth&amp;quot;:3,&amp;quot;anchor&amp;quot;:&amp;quot;proverkarabotysetinaizobrazhenijax&amp;quot;,&amp;quot;value&amp;quot;:&amp;quot;Проверка работы сети на изображениях&amp;quot;,&amp;quot;isMd&amp;quot;:false}],&amp;quot;wiki-attrs&amp;quot;:{&amp;quot;lang&amp;quot;:&amp;quot;ru&amp;quot;,&amp;quot;platform&amp;quot;:&amp;quot;desktop&amp;quot;,&amp;quot;instance&amp;quot;:&amp;quot;business&amp;quot;,&amp;quot;schi_url&amp;quot;:&amp;quot;https://schi.yandex.ru&amp;quot;,&amp;quot;magiclinks_url&amp;quot;:&amp;quot;https://magiclinks.yandex.ru/magiclinks/v1/links&amp;quot;,&amp;quot;tracker_url&amp;quot;:&amp;quot;https://tracker.yandex.ru&amp;quot;,&amp;quot;staff_url&amp;quot;:&amp;quot;https://staff.yandex.ru&amp;quot;,&amp;quot;forms_url&amp;quot;:&amp;quot;https://connect.yandex.ru&amp;quot;,&amp;quot;wiki_url&amp;quot;:&amp;quot;https://wiki.yandex.ru&amp;quot;,&amp;quot;wiki_api_url&amp;quot;:&amp;quot;https://wiki-api.yandex.ru&amp;quot;,&amp;quot;docviewer_url&amp;quot;:&amp;quot;https://docviewer.yandex.ru&amp;quot;,&amp;quot;at_url&amp;quot;:&amp;quot;https://clubs.at.yandex-team.ru&amp;quot;,&amp;quot;charts_url&amp;quot;:&amp;quot;https://charts-beta.yandex-team.ru&amp;quot;,&amp;quot;statface_url&amp;quot;:&amp;quot;https://stat-beta.yandex-team.ru&amp;quot;,&amp;quot;yastatic_url&amp;quot;:&amp;quot;//yastatic.net&amp;quot;,&amp;quot;useAJAX&amp;quot;:false,&amp;quot;renderActionsByClick&amp;quot;:false,&amp;quot;code_theme&amp;quot;:&amp;quot;github&amp;quot;,&amp;quot;page_path&amp;quot;:&amp;quot;/mashinnoe-zrenie/tensorflow-1.15objectdetectionapi&amp;quot;,&amp;quot;remark&amp;quot;:{&amp;quot;markdown&amp;quot;:{&amp;quot;commonmark&amp;quot;:true,&amp;quot;footnotes&amp;quot;:true,&amp;quot;position&amp;quot;:true},&amp;quot;woofmd&amp;quot;:{&amp;quot;actions&amp;quot;:[{&amp;quot;name&amp;quot;:&amp;quot;a&amp;quot;},{&amp;quot;name&amp;quot;:&amp;quot;anchor&amp;quot;},{&amp;quot;name&amp;quot;:&amp;quot;forms&amp;quot;},{&amp;quot;name&amp;quot;:&amp;quot;iframe&amp;quot;},{&amp;quot;name&amp;quot;:&amp;quot;grid&amp;quot;},{&amp;quot;name&amp;quot;:&amp;quot;tree&amp;quot;},{&amp;quot;name&amp;quot;:&amp;quot;toc&amp;quot;},{&amp;quot;name&amp;quot;:&amp;quot;mypages&amp;quot;},{&amp;quot;name&amp;quot;:&amp;quot;mywatches&amp;quot;},{&amp;quot;name&amp;quot;:&amp;quot;backlinks&amp;quot;},{&amp;quot;name&amp;quot;:&amp;quot;tasks&amp;quot;}]}},&amp;quot;extensions&amp;quot;:{},&amp;quot;orgId&amp;quot;:&amp;quot;813822&amp;quot;,&amp;quot;translations&amp;quot;:{&amp;quot;wiki-action-include&amp;quot;:{&amp;quot;cycle&amp;quot;:&amp;quot;Обнаружена циклическая зависимость&amp;quot;,&amp;quot;page&amp;quot;:&amp;quot;Страница&amp;quot;,&amp;quot;grid&amp;quot;:&amp;quot;Страница-грид вставляется на страницу посредством экшена {{grid}}&amp;quot;,&amp;quot;page_mismatch&amp;quot;:&amp;quot;Данный тип страницы не поддерживается&amp;quot;},&amp;quot;wiki-formatter&amp;quot;:{},&amp;quot;wiki-action-serviceteam&amp;quot;:{&amp;quot;contacts&amp;quot;:&amp;quot;Контакты сервиса&amp;quot;,&amp;quot;roles&amp;quot;:&amp;quot;Команда сервиса&amp;quot;,&amp;quot;serviceteam&amp;quot;:&amp;quot;Команда сервиса&amp;quot;},&amp;quot;wiki-action-backlinks&amp;quot;:{&amp;quot;backlinks&amp;quot;:&amp;quot;Страницы, ссылающиеся на данную&amp;quot;},&amp;quot;wiki-action-mywatches&amp;quot;:{&amp;quot;unwatch&amp;quot;:&amp;quot;Отписаться от изменений&amp;quot;},&amp;quot;wiki-action-mypages&amp;quot;:{&amp;quot;user_pages&amp;quot;:&amp;quot;Страницы пользователя&amp;quot;,&amp;quot;ordered&amp;quot;:&amp;quot;упорядоченные&amp;quot;},&amp;quot;wiki-action-tasks&amp;quot;:{&amp;quot;no-tasks&amp;quot;:&amp;quot;Тикеты по данному запросу не найдены.&amp;quot;},&amp;quot;wiki-action&amp;quot;:{&amp;quot;error&amp;quot;:&amp;quot;Ошибка при получении экшена&amp;quot;,&amp;quot;load&amp;quot;:&amp;quot;Загрузить&amp;quot;,&amp;quot;action&amp;quot;:&amp;quot;Экшн&amp;quot;},&amp;quot;wiki-widget-action&amp;quot;:{&amp;quot;error&amp;quot;:&amp;quot;Ошибка при получении экшена&amp;quot;},&amp;quot;wiki-action-tree&amp;quot;:{&amp;quot;cluster_tree&amp;quot;:&amp;quot;Структура раздела&amp;quot;,&amp;quot;expand_all&amp;quot;:&amp;quot;Показать все подстраницы&amp;quot;,&amp;quot;full_loaded&amp;quot;:&amp;quot;Все подстраницы загружены&amp;quot;,&amp;quot;not_full_loaded&amp;quot;:&amp;quot;Не все подстраницы загружены&amp;quot;},&amp;quot;wiki-action-tree-page&amp;quot;:{&amp;quot;created&amp;quot;:&amp;quot;создано&amp;quot;,&amp;quot;modified&amp;quot;:&amp;quot;отредактировано&amp;quot;},&amp;quot;wiki-action-feed&amp;quot;:{&amp;quot;today&amp;quot;:&amp;quot;сегодня&amp;quot;},&amp;quot;wiki-head&amp;quot;:{&amp;quot;edit&amp;quot;:&amp;quot;правка&amp;quot;},&amp;quot;wiki-toc&amp;quot;:{&amp;quot;contents&amp;quot;:&amp;quot;Оглавление документа&amp;quot;},&amp;quot;wiki-ref&amp;quot;:{&amp;quot;external_link&amp;quot;:&amp;quot;Внешняя ссылка (откроется в новом окне)&amp;quot;},&amp;quot;wiki-cut&amp;quot;:{&amp;quot;more&amp;quot;:&amp;quot;Подробнее&amp;quot;}}}}\&quot; data-bem=\&quot;{&amp;quot;wf-doc&amp;quot;:{}}\&quot;&gt;&lt;h3 class=\&quot;wiki-head wf-head i-bem\&quot; data-woof='{\&quot;wiki-head\&quot;:{}}' data-wf=\&quot;{&amp;quot;anchor&amp;quot;:&amp;quot;podgotovkarabotytensorflow1.15objectdetectionapi&amp;quot;,&amp;quot;section_local&amp;quot;:1,&amp;quot;includesPath&amp;quot;:[],&amp;quot;text&amp;quot;:&amp;quot;Подготовка  работы  Tensorflow 1.15 &amp;amp; Object_detection_API&amp;quot;}\&quot; data-bem=\&quot;{&amp;quot;wf-head&amp;quot;:{}}\&quot;&gt;&lt;div class=\&quot;wiki-head__anchors\&quot;&gt;&lt;/div&gt;&lt;span class=\&quot;wiki-head__text\&quot;&gt;Подготовка  работы  Tensorflow 1.15 &amp;amp; Object_detection_API&lt;/span&gt;&lt;div class=\&quot;wiki-head__anchor-link\&quot;&gt;&lt;/div&gt;&lt;/h3&gt;&lt;ol class=\&quot;wiki-list wiki-list_list-type_decimal\&quot; start=\&quot;1\&quot;&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Необходимо загрузить и установить  NVIDIA  GeForce  Experience&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Установка Visual Studio (Visual Studio 2017). Отдельная установка Microsoft  Visual C++ Build  Tools для меня не решила проблему.&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Загрузка и установка CUDA  v10.0.130_win10 &lt;br/&gt;&lt;a class=\&quot;wiki-link wiki-ref wiki-ref wiki-ref_magiclink_yes\&quot; title=\&quot;Внешняя ссылка (откроется в новом окне)\&quot; href=\&quot;https://developer.nvidia.com/cuda-10.0-download-archive?target_os=Windows&amp;amp;target_arch=x86_64&amp;amp;target_version=10&amp;amp;target_type=exenetwork\&quot; target=\&quot;_blank\&quot;&gt;https://developer.nvidia.com/cuda-10.0-download-archive?target_os=Windows&amp;amp;target_arch=x86_64&amp;amp;target_version=10&amp;amp;target_type=exenetwork&lt;/a&gt;&lt;br/&gt;Устанавливаем  переменные среды:&lt;br/&gt;C:\\Program Files\\NVIDIA GPU Computing  Toolkit\\CUDA\\v10.0\\bin&lt;br/&gt;C:\\Program Files\\NVIDIA GPU Computing  Toolkit\\CUDA\\v10.0\\lib\\x64&lt;br/&gt;C:\\Program Files\\NVIDIA GPU Computing  Toolkit\\CUDA\\v10.0\\include&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Загрузка и распаковка cuDNN  v7.6.4.38 для CUDA v10.0&lt;br/&gt;    &lt;a class=\&quot;wiki-link wiki-ref wiki-ref wiki-ref_magiclink_yes\&quot; title=\&quot;Внешняя ссылка (откроется в новом окне)\&quot; href=\&quot;https://developer.nvidia.com/rdp/cudnn-archive\&quot; target=\&quot;_blank\&quot;&gt;&lt;a class=\&quot;wiki-link wiki-ref wiki-ref wiki-ref_magiclink_yes\&quot; title=\&quot;Внешняя ссылка (откроется в новом окне)\&quot; href=\&quot;https://developer.nvidia.com/rdp/cudnn-archive\&quot; target=\&quot;_blank\&quot;&gt;https://developer.nvidia.com/rdp/cudnn-archive&lt;/a&gt;&lt;/a&gt;&lt;br/&gt;Копируем  соответствующие файлы:&lt;br/&gt;&amp;lt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;installpath&lt;/strong&gt;&amp;gt;\\cuda\\bin\\cudnn64_7.dll  в  C:\\Program  Files\\NVIDIA  GPU  Computing  Toolkit\\CUDA\\v10.0\\bin.&lt;br/&gt;&amp;lt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;installpath&lt;/strong&gt;&amp;gt;\\cuda\\ include\\cudnn.h  в C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\include.&lt;br/&gt;&amp;lt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;installpath&lt;/strong&gt;&amp;gt;\\cuda\\lib\\x64\\cudnn.lib в C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\lib\\x64.&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Установка Anaconda и настройка среды &lt;br/&gt;Создаем новую virtual  environment и выполняем:&lt;br/&gt;conda  activate &amp;lt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;environment_name&lt;/strong&gt;&amp;gt;&lt;br/&gt;conda install tensorflow-gpu==1.15&lt;br/&gt;conda install -c anaconda protobuf&lt;br/&gt;pip install pillow&lt;br/&gt;pip install lxml&lt;br/&gt;pip install Cython&lt;br/&gt;pip install contextlib2&lt;br/&gt;pip install matplotlib&lt;br/&gt;pip install pandas&lt;br/&gt;pip install opencv-python&lt;br/&gt;pip install git+&lt;a class=\&quot;wiki-link wiki-ref wiki-ref wiki-ref_magiclink_yes\&quot; title=\&quot;Внешняя ссылка (откроется в новом окне)\&quot; href=\&quot;https://github.com/philferriere/cocoapi.git#subdirectory=PythonAPI\&quot; target=\&quot;_blank\&quot;&gt;https://github.com/philferriere/cocoapi.git#subdirectory=PythonAPI&lt;/a&gt;&lt;br/&gt;//Возможно для выполнения этой команды потребуется запуск через терминал VS (Пуск -&amp;gt; Visual Studio 20__ -&amp;gt; x64 Native Tools Command Prompt for VS 20__), в котором нужно будет сначала войти в созданную среду с помощью conda  activate &amp;lt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;environment_name&lt;/strong&gt;&amp;gt;&lt;br/&gt;Проверка  поддержки GPU:&lt;br/&gt;import tensorflow as tf&lt;br/&gt;tf.test.gpu_device_name()&lt;br/&gt;...&lt;br/&gt;Если возникает ошибка на строке \&quot;import tensorflow as tf\&quot;: &lt;div class=\&quot;wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes\&quot; style=\&quot;\&quot;&gt;&lt;div class=\&quot;b-page-code b-page-code_multiline_yes i-bem\&quot; data-woof='{\&quot;b-page-code\&quot;:{}}'&gt;&lt;code class=\&quot;b-page-code__code no-highlight\&quot;&gt;&lt;pre class=\&quot;b-page-code__pre\&quot;&gt;...\n\&quot;File \&quot;C:\\Users\\user\\...&amp;lt;path to env&amp;gt;...\\env_name\\lib\\imp.py\&quot;, line 343, in load_dynamic\nreturn _load(spec)\nImportError: DLL load failed: The specified module could not be found.\&quot;\nDuring handling of the above exception, another exception occurred:\n...&lt;/pre&gt;&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;br/&gt;То может помочь понижение версии Tensor Flow: &lt;div class=\&quot;wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes\&quot; style=\&quot;\&quot;&gt;&lt;div class=\&quot;b-page-code b-page-code_inline_yes i-bem\&quot; data-woof='{\&quot;b-page-code\&quot;:{}}'&gt;&lt;code class=\&quot;b-page-code__code no-highlight\&quot;&gt;conda install tensorflow-gpu==1.14.0&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Загрузка и распаковка &lt;a class=\&quot;wiki-link wiki-ref wiki-ref wiki-ref_magiclink_yes\&quot; title=\&quot;Внешняя ссылка (откроется в новом окне)\&quot; href=\&quot;https://github.com/tensorflow/models\&quot; target=\&quot;_blank\&quot;&gt;https://github.com/tensorflow/models&lt;/a&gt;&lt;br/&gt;Устанавливаем  переменные среды:&lt;br/&gt;C:\\tf_models\\models&lt;br/&gt;C:\\tf_models\\models\\research&lt;br/&gt;C:\\tf_models\\models\\research\\slim&lt;br/&gt;После чего выполняем команды:&lt;br/&gt;set PYTHONPATH=C:\\tf_models\\models;C:\\tf_models\\models\\research;C:\\tf_models\\models\\research\\slim;C:\\tf_models\\models\\research\\slim\\nets&lt;br/&gt;cd C:\\tf_models\\models\\research&lt;br/&gt;protoc --python_out=. .\\object_detection\\protos\\anchor_generator.proto .\\object_detection\\protos\\argmax_matcher.proto .\\object_detection\\protos\\bipartite_matcher.proto .\\object_detection\\protos\\box_coder.proto .\\object_detection\\protos\\box_predictor.proto .\\object_detection\\protos\\eval.proto .\\object_detection\\protos\\faster_rcnn.proto .\\object_detection\\protos\\faster_rcnn_box_coder.proto .\\object_detection\\protos\\grid_anchor_generator.proto .\\object_detection\\protos\\hyperparams.proto .\\object_detection\\protos\\image_resizer.proto .\\object_detection\\protos\\input_reader.proto .\\object_detection\\protos\\losses.proto .\\object_detection\\protos\\matcher.proto .\\object_detection\\protos\\mean_stddev_box_coder.proto .\\object_detection\\protos\\model.proto .\\object_detection\\protos\\optimizer.proto .\\object_detection\\protos\\pipeline.proto .\\object_detection\\protos\\post_processing.proto .\\object_detection\\protos\\preprocessor.proto .\\object_detection\\protos\\region_similarity_calculator.proto .\\object_detection\\protos\\square_box_coder.proto .\\object_detection\\protos\\ssd.proto .\\object_detection\\protos\\ssd_anchor_generator.proto .\\object_detection\\protos\\string_int_label_map.proto .\\object_detection\\protos\\train.proto .\\object_detection\\protos\\keypoint_box_coder.proto .\\object_detection\\protos\\multiscale_anchor_generator.proto .\\object_detection\\protos\\graph_rewriter.proto .\\object_detection\\protos\\calibration.proto .\\object_detection\\protos\\center_net.proto  .\\object_detection\\protos\\flexible_grid_anchor_generator.proto .\\object_detection\\protos\\target_assigner.proto&lt;br/&gt;python setup.py build&lt;br/&gt;python setup.py install&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Возможные ошибки&lt;br/&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;ModuleNotFoundError&lt;/strong&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;: No module named 'nets'&lt;/strong&gt;&lt;br/&gt;Если  все  переменные  установлены, но  все  равно  возникает  ошибка  копируем  всю  папку nets из  папки slim в  папку C:\\Users\\ &amp;lt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;user&lt;/strong&gt;&amp;gt;\\Anaconda3\\envs&amp;lt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;env_name&lt;/strong&gt;&amp;gt;\\Lib\\site-packages\\object_detection-0.1-py3.6.egg&lt;br/&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;TypeError&lt;/strong&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;: can't pickle&lt;/strong&gt; &lt;strong class=\&quot;wiki-bold\&quot;&gt;dict_values&lt;/strong&gt; &lt;strong class=\&quot;wiki-bold\&quot;&gt;objects&lt;/strong&gt;&lt;br/&gt;Добавьте  list() к category_index.values() в   C:\\models\\research\\object_detection\\model_lib.py о строке  418  list(category_index.values()).&lt;br/&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;mportError&lt;/strong&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;: cannot import name 'slim' from '&lt;/strong&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;tf_slim&lt;/strong&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;' (/Users/uthayan.manavalan/anaconda3/envs/cnn/lib/python3.7/site-packages/tf_slim/init.py)&lt;/strong&gt;&lt;br/&gt;pip  install --upgrade  tf-slim&lt;br/&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;Error when evaluate: object of type &amp;lt;class '&lt;/strong&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;numpy.float&lt;/strong&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;64'&amp;gt; cannot be safely interpreted as an integer&lt;/strong&gt;&lt;br/&gt;Измените  версию  numpy на 1.17 вместо 1.18.&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 class=\&quot;wiki-head wf-head i-bem\&quot; data-woof='{\&quot;wiki-head\&quot;:{}}' data-wf=\&quot;{&amp;quot;anchor&amp;quot;:&amp;quot;podgotovkaobuchajushhegonaboraizvideo&amp;quot;,&amp;quot;section_local&amp;quot;:2,&amp;quot;includesPath&amp;quot;:[],&amp;quot;text&amp;quot;:&amp;quot;Подготовка обучающего набора из видео&amp;quot;}\&quot; data-bem=\&quot;{&amp;quot;wf-head&amp;quot;:{}}\&quot;&gt;&lt;div class=\&quot;wiki-head__anchors\&quot;&gt;&lt;/div&gt;&lt;span class=\&quot;wiki-head__text\&quot;&gt;Подготовка обучающего набора из видео&lt;/span&gt;&lt;div class=\&quot;wiki-head__anchor-link\&quot;&gt;&lt;/div&gt;&lt;/h3&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;На входном наборе несортированных видео  применяется утилита sort_video.py, которая в каждом видео осуществляет поиск сыра и ждет подтверждения оператора о принадлежности найденного класса сыра. На выходе формируются списки видео для каждого типа сыра.&lt;/div&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Нарезка обучающих кадров для каждого типа сыра осуществляется с помощью утилиты cut_dataset.py. В данной утилите осуществляется поиск и выделения сыра на каждом кадре, после чего формируются обучающие примеры, включающие .png изображение и .txt  аннотацию. Для получения более качественных аннотаций в cut_dataset.py встроена возможность динамической подстройки цветовой маски, позволяющей точнее описать объект.&lt;/div&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Далее обучающий набор представляется в виде .csv таблиц с помощью утилиты txt_to_csv.py. После чего из .csv файлов с помощью generate_tfrecord.py формируется подходящие для обучения структуры данных .record&lt;/div&gt;&lt;h3 class=\&quot;wiki-head wf-head i-bem\&quot; data-woof='{\&quot;wiki-head\&quot;:{}}' data-wf=\&quot;{&amp;quot;anchor&amp;quot;:&amp;quot;zapuskprocessaobuchenija&amp;quot;,&amp;quot;section_local&amp;quot;:3,&amp;quot;includesPath&amp;quot;:[],&amp;quot;text&amp;quot;:&amp;quot;Запуск  процесса  обучения&amp;quot;}\&quot; data-bem=\&quot;{&amp;quot;wf-head&amp;quot;:{}}\&quot;&gt;&lt;div class=\&quot;wiki-head__anchors\&quot;&gt;&lt;/div&gt;&lt;span class=\&quot;wiki-head__text\&quot;&gt;Запуск  процесса  обучения&lt;/span&gt;&lt;div class=\&quot;wiki-head__anchor-link\&quot;&gt;&lt;/div&gt;&lt;/h3&gt;&lt;ol class=\&quot;wiki-list wiki-list_list-type_decimal\&quot; start=\&quot;1\&quot;&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Для  начала  обучения  требуется  загрузить требуемую нейросетевую модель из  &lt;a class=\&quot;wiki-link wiki-ref wiki-ref wiki-ref_magiclink_yes\&quot; title=\&quot;Внешняя ссылка (откроется в новом окне)\&quot; href=\&quot;https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/tf1_detection_zoo.md\&quot; target=\&quot;_blank\&quot;&gt;https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/tf1_detection_zoo.md&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Создаем файл меток классов .pbtxt вида:&lt;br/&gt;&lt;div class=\&quot;wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes\&quot; style=\&quot;\&quot;&gt;&lt;div class=\&quot;b-page-code b-page-code_multiline_yes i-bem\&quot; data-woof='{\&quot;b-page-code\&quot;:{}}'&gt;&lt;code class=\&quot;b-page-code__code no-highlight\&quot;&gt;&lt;pre class=\&quot;b-page-code__pre\&quot;&gt;item {\n  id: 1\n  name: 'brick'\n}\nitem {\n    id: 2\n    name: 'shaiba_big'\n}&lt;/pre&gt;&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Дальше  изменяем  конфигурационный  файл:&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ul class=\&quot;wiki-list\&quot;&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Задаем требуемое число классов&lt;br/&gt;num_classes: 4&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Задаем размер партии&lt;br/&gt;batch_size: 4&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Определяем пути:&lt;br/&gt;fine_tune_checkpoint: \&quot;C:/../train/model.ckpt\&quot;&lt;br/&gt;label_map_path: \&quot;C:/../train/object-detection.pbtxt\&quot;&lt;br/&gt;train_input_reader  { input_path: \&quot;C:/../data/train.record\&quot;&lt;br/&gt;eval_input_reader  { input_path: \&quot;C:/../data/val.record\&quot;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ol class=\&quot;wiki-list wiki-list_list-type_decimal\&quot; start=\&quot;4\&quot;&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Запуск  процесса  обучения:&lt;br/&gt;python model_main.py --model_dir=training --pipeline_config_path=train/pipeline.config&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Возможные  ошибки:&lt;br/&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;Not found: Key BoxPredictor_0/BoxEncodingPredictor/biases/ExponentialMovingAverage not found in checkpoint&lt;/strong&gt;&lt;br/&gt;Добавьте  строку  use_moving_averages: false в  раздел  evel_config  в  конфигурационном  файле  сети&lt;br/&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;Restoring from checkpoint failed. This is most likely due to a Variable name or other graph key that is missing from the checkpoint&lt;/strong&gt;&lt;br/&gt;Требуется изменить директорию модели, где вы сохранены старые контрольные точки.&lt;br/&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;Для видеокарт серии&lt;/strong&gt; &lt;strong class=\&quot;wiki-bold\&quot;&gt;RTX&lt;/strong&gt; &lt;strong class=\&quot;wiki-bold\&quot;&gt;и при возникновении ошибок типа&lt;/strong&gt; &lt;br/&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;Could not create&lt;/strong&gt; &lt;strong class=\&quot;wiki-bold\&quot;&gt;cudnn&lt;/strong&gt; &lt;strong class=\&quot;wiki-bold\&quot;&gt;handle: CUDNN_STATUS_INTERNAL_ERROR&lt;/strong&gt;&lt;br/&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;Could not destroy&lt;/strong&gt; &lt;strong class=\&quot;wiki-bold\&quot;&gt;cudnn&lt;/strong&gt; &lt;strong class=\&quot;wiki-bold\&quot;&gt;handle: CUDNN_STATUS_BAD_PARAM&lt;/strong&gt;&lt;br/&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;Could not create&lt;/strong&gt; &lt;strong class=\&quot;wiki-bold\&quot;&gt;cudnn&lt;/strong&gt; &lt;strong class=\&quot;wiki-bold\&quot;&gt;handle: CUDNN_STATUS_ALLOC_FAILED&lt;/strong&gt;&lt;br/&gt;&lt;strong class=\&quot;wiki-bold\&quot;&gt;Could not create&lt;/strong&gt; &lt;strong class=\&quot;wiki-bold\&quot;&gt;cudnn&lt;/strong&gt; &lt;strong class=\&quot;wiki-bold\&quot;&gt;handle: CUDNN_STATUS_INTERNAL_ERROR&lt;/strong&gt;&lt;br/&gt;Следует изменить строки model_main.py&lt;br/&gt;&lt;div class=\&quot;wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes\&quot; style=\&quot;\&quot;&gt;&lt;div class=\&quot;b-page-code b-page-code_inline_yes i-bem\&quot; data-woof='{\&quot;b-page-code\&quot;:{}}'&gt;&lt;code class=\&quot;b-page-code__code no-highlight\&quot;&gt;config = tf.estimator.RunConfig(model_dir=FLAGS.model_dir)&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;br/&gt;На&lt;br/&gt;&lt;div class=\&quot;wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes\&quot; style=\&quot;\&quot;&gt;&lt;div class=\&quot;b-page-code b-page-code_multiline_yes i-bem\&quot; data-woof='{\&quot;b-page-code\&quot;:{}}'&gt;&lt;code class=\&quot;b-page-code__code no-highlight\&quot;&gt;&lt;pre class=\&quot;b-page-code__pre\&quot;&gt;session_config = tf.ConfigProto()\nsession_config.gpu_options.allow_growth = True \n#  session_config.gpu_options.per_process_gpu_memory_fraction = .8    \nconfig=tf.estimator.RunConfig(model_dir=FLAGS.model_dir, session_config=session_config)&lt;/pre&gt;&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;br/&gt;Строки  inference_case.py&lt;br/&gt;&lt;div class=\&quot;wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes\&quot; style=\&quot;\&quot;&gt;&lt;div class=\&quot;b-page-code b-page-code_multiline_yes i-bem\&quot; data-woof='{\&quot;b-page-code\&quot;:{}}'&gt;&lt;code class=\&quot;b-page-code__code no-highlight\&quot;&gt;&lt;pre class=\&quot;b-page-code__pre\&quot;&gt;with detection_graph.as_default():\n  with tf.compat.v1.Session(graph=detection_graph) as sess:&lt;/pre&gt;&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;br/&gt;На&lt;br/&gt;&lt;div class=\&quot;wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes\&quot; style=\&quot;\&quot;&gt;&lt;div class=\&quot;b-page-code b-page-code_multiline_yes i-bem\&quot; data-woof='{\&quot;b-page-code\&quot;:{}}'&gt;&lt;code class=\&quot;b-page-code__code no-highlight\&quot;&gt;&lt;pre class=\&quot;b-page-code__pre\&quot;&gt;session_config = tf.compat.v1.ConfigProto()\nsession_config.gpu_options.allow_growth = True                                                         \n# session_config.gpu_options.per_process_gpu_memory_fraction = .8        \nwith detection_graph.as_default():\n  with tf.compat.v1.Session(graph=detection_graph, config=session_config) as sess:&lt;/pre&gt;&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;br/&gt;При  нехватке  видеопамяти  раскомментировать  строку&lt;br/&gt;&lt;div class=\&quot;wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes\&quot; style=\&quot;\&quot;&gt;&lt;div class=\&quot;b-page-code b-page-code_inline_yes i-bem\&quot; data-woof='{\&quot;b-page-code\&quot;:{}}'&gt;&lt;code class=\&quot;b-page-code__code no-highlight\&quot;&gt;session_config.gpu_options.per_process_gpu_memory_fraction = .8&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;br/&gt;...&lt;br/&gt;Если при попытке запуска процесса обучения возникает ошибка:&lt;br/&gt; &lt;div class=\&quot;wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes\&quot; style=\&quot;\&quot;&gt;&lt;div class=\&quot;b-page-code b-page-code_multiline_yes i-bem\&quot; data-woof='{\&quot;b-page-code\&quot;:{}}'&gt;&lt;code class=\&quot;b-page-code__code no-highlight\&quot;&gt;&lt;pre class=\&quot;b-page-code__pre\&quot;&gt;Windows fatal exception: access violation\n\nCurrent thread 0x00000708 (most recent call first):\nFile \&quot;C:\\Users\\&amp;lt;path_to_env&amp;gt;\\lib\\site-packages\\tensorflow\\python\\lib\\io\\file_io.py\&quot;, line 84 in _preread_check&lt;/pre&gt;&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;br/&gt;То первым делом надо проверить правильность путей, которые указывали в /train/pipeline.config.&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=\&quot;wiki-li\&quot;&gt;&lt;div class=\&quot;wiki-li__wrapper\&quot;&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Для отслеживания процесса обучения сети надо использовать программу tensorboard. В отдельном терминале нужно активировать свою виртуальную среду (которую создали ранее для работы с tensorflow-gpu), затем выполнить: &lt;br/&gt; &lt;div class=\&quot;wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes\&quot; style=\&quot;\&quot;&gt;&lt;div class=\&quot;b-page-code b-page-code_inline_yes i-bem\&quot; data-woof='{\&quot;b-page-code\&quot;:{}}'&gt;&lt;code class=\&quot;b-page-code__code no-highlight\&quot;&gt;tensorboard --logdir C:/PythonProject/&amp;lt;path_to_dir&amp;gt;/training&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;br/&gt;В конце отклика в терминале будет ссылка на веб-страницу, которую надо открыть в браузере.&lt;br/&gt;...&lt;br/&gt;Если при этом возникает ошибка: &lt;br/&gt; &lt;div class=\&quot;wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes\&quot; style=\&quot;\&quot;&gt;&lt;div class=\&quot;b-page-code b-page-code_inline_yes i-bem\&quot; data-woof='{\&quot;b-page-code\&quot;:{}}'&gt;&lt;code class=\&quot;b-page-code__code no-highlight\&quot;&gt;ValueError: Not a TBLoader or TBPlugin subclass: &amp;lt;class 'tensorboard_plugin_wit.wit_plugin_loader.WhatIfToolPluginLoader'&amp;gt;&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;, &lt;br/&gt;помогает удаление проблемного плагина (&lt;a class=\&quot;wiki-link wiki-ref wiki-ref wiki-ref_magiclink_yes\&quot; title=\&quot;Внешняя ссылка (откроется в новом окне)\&quot; href=\&quot;https://github.com/tensorflow/tensorboard/issues/3549\&quot; target=\&quot;_blank\&quot;&gt;https://github.com/tensorflow/tensorboard/issues/3549&lt;/a&gt;):&lt;br/&gt; &lt;div class=\&quot;wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes\&quot; style=\&quot;\&quot;&gt;&lt;div class=\&quot;b-page-code b-page-code_inline_yes i-bem\&quot; data-woof='{\&quot;b-page-code\&quot;:{}}'&gt;&lt;code class=\&quot;b-page-code__code no-highlight\&quot;&gt;pip uninstall tensorboard-plugin-wit&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;br/&gt;...&lt;br/&gt;Если при запуске tensorboard указать только папку, где находится информация по тренировке, могут быть проблемы с открытием веб-страницы (веб-страница не доступна в браузере). Может помочь указание не только папки с тренировкой, но и хоста и порта (&lt;a class=\&quot;wiki-link wiki-ref wiki-ref wiki-ref_magiclink_yes\&quot; title=\&quot;Внешняя ссылка (откроется в новом окне)\&quot; href=\&quot;https://stackoverflow.com/questions/40106949/unable-to-open-tensorboard-in-browser\&quot; target=\&quot;_blank\&quot;&gt;https://stackoverflow.com/questions/40106949/unable-to-open-tensorboard-in-browser&lt;/a&gt;): &lt;br/&gt; &lt;div class=\&quot;wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes\&quot; style=\&quot;\&quot;&gt;&lt;div class=\&quot;b-page-code b-page-code_inline_yes i-bem\&quot; data-woof='{\&quot;b-page-code\&quot;:{}}'&gt;&lt;code class=\&quot;b-page-code__code no-highlight\&quot;&gt;tensorboard --logdir C:/PythonProject/&amp;lt;path_to_dir&amp;gt;/training --host localhost --port 8088&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h3 class=\&quot;wiki-head wf-head i-bem\&quot; data-woof='{\&quot;wiki-head\&quot;:{}}' data-wf=\&quot;{&amp;quot;anchor&amp;quot;:&amp;quot;jeksportirovaniegrafavychislenijj&amp;quot;,&amp;quot;section_local&amp;quot;:4,&amp;quot;includesPath&amp;quot;:[],&amp;quot;text&amp;quot;:&amp;quot;Экспортирование  графа  вычислений&amp;quot;}\&quot; data-bem=\&quot;{&amp;quot;wf-head&amp;quot;:{}}\&quot;&gt;&lt;div class=\&quot;wiki-head__anchors\&quot;&gt;&lt;/div&gt;&lt;span class=\&quot;wiki-head__text\&quot;&gt;Экспортирование  графа  вычислений&lt;/span&gt;&lt;div class=\&quot;wiki-head__anchor-link\&quot;&gt;&lt;/div&gt;&lt;/h3&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;python export_inference_graph.py --input_type  image_tensor --pipeline_config_path train/pipeline.config --trained_checkpoint_prefix training/model.ckpt-66184 --output_directory inference&lt;/div&gt;&lt;h3 class=\&quot;wiki-head wf-head i-bem\&quot; data-woof='{\&quot;wiki-head\&quot;:{}}' data-wf=\&quot;{&amp;quot;anchor&amp;quot;:&amp;quot;proverkarabotysetinavideo&amp;quot;,&amp;quot;section_local&amp;quot;:5,&amp;quot;includesPath&amp;quot;:[],&amp;quot;text&amp;quot;:&amp;quot;Проверка работы сети на видео&amp;quot;}\&quot; data-bem=\&quot;{&amp;quot;wf-head&amp;quot;:{}}\&quot;&gt;&lt;div class=\&quot;wiki-head__anchors\&quot;&gt;&lt;/div&gt;&lt;span class=\&quot;wiki-head__text\&quot;&gt;Проверка работы сети на видео&lt;/span&gt;&lt;div class=\&quot;wiki-head__anchor-link\&quot;&gt;&lt;/div&gt;&lt;/h3&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Запуск проверки на видео осуществляется с помощью утилиты inference_case.py. При этом имеется два режима чтения видео. Первый, последовательное чтение видео из папки videos. Второй, использование сформированных для обучения списков видеофайлов для отдельных классов.&lt;/div&gt;&lt;h3 class=\&quot;wiki-head wf-head i-bem\&quot; data-woof='{\&quot;wiki-head\&quot;:{}}' data-wf=\&quot;{&amp;quot;anchor&amp;quot;:&amp;quot;proverkarabotysetinaizobrazhenijax&amp;quot;,&amp;quot;section_local&amp;quot;:6,&amp;quot;includesPath&amp;quot;:[],&amp;quot;text&amp;quot;:&amp;quot;Проверка работы сети на изображениях&amp;quot;}\&quot; data-bem=\&quot;{&amp;quot;wf-head&amp;quot;:{}}\&quot;&gt;&lt;div class=\&quot;wiki-head__anchors\&quot;&gt;&lt;/div&gt;&lt;span class=\&quot;wiki-head__text\&quot;&gt;Проверка работы сети на изображениях&lt;/span&gt;&lt;div class=\&quot;wiki-head__anchor-link\&quot;&gt;&lt;/div&gt;&lt;/h3&gt;&lt;div class=\&quot;wiki-p\&quot;&gt;Запуск проверки на изображениях осуществляется с помощью утилиты inference_images.py последовательным чтением из папки data/images&lt;/div&gt;&lt;/div&gt;&quot;,&quot;mods&quot;:{&quot;status&quot;:&quot;main&quot;}}},&quot;user&quot;:{&quot;uid&quot;:1130000045489958,&quot;login&quot;:&quot;ea&quot;,&quot;first_name&quot;:&quot;Evgeniy&quot;,&quot;last_name&quot;:&quot;Andreev&quot;,&quot;display&quot;:&quot;Evgeniy Andreev&quot;,&quot;email&quot;:&quot;ea@varya.studio&quot;,&quot;is_admin&quot;:false,&quot;is_external_employee&quot;:false,&quot;is_dismissed&quot;:false,&quot;settings&quot;:{&quot;code_theme&quot;:&quot;github&quot;,&quot;propose_content_translation&quot;:false,&quot;use_nodejs_frontend&quot;:true,&quot;use_full_width_content&quot;:false,&quot;use_new_wf&quot;:false,&quot;language&quot;:&quot;ru&quot;},&quot;avatar&quot;:&quot;0/0-0&quot;}}},&quot;w-mixed-tooltip&quot;:{&quot;screenWidthToShow&quot;:1200,&quot;tooltip&quot;:{&quot;block&quot;:&quot;tooltip&quot;,&quot;mods&quot;:{&quot;size&quot;:&quot;s&quot;,&quot;theme&quot;:&quot;normal&quot;},&quot;js&quot;:{&quot;to&quot;:&quot;bottom&quot;},&quot;content&quot;:&quot;Действия&quot;}}}" type="button" autocomplete="off" tabindex="0"><span class="icon icon_size_s icon_type_more button2__icon button2__icon_side_left"></span><span class="button2__text">Действия</span></button><div class="popup2 popup2_theme_normal popup2_target_anchor popup2_autoclosable_yes popup2_hiding_yes popup2_view_classic i-bem popup2_js_inited" data-bem="{&quot;popup2&quot;:{&quot;directions&quot;:[&quot;bottom-right&quot;]}}"><div class="b-page-more-panel i-bem b-page-more-panel_js_inited"><div class="b-page-more-panel-item w-action w-action_type_sub i-bem w-action_js_inited" data-bem="{&quot;b-page-more-panel-item&quot;:{},&quot;w-action&quot;:{}}">Создать подстраницу</div><div class="b-page-more-panel-item w-action w-action_type_tree i-bem w-action_js_inited" data-bem="{&quot;b-page-more-panel-item&quot;:{},&quot;w-action&quot;:{}}">Структура раздела</div><div class="b-page-more-panel-item w-action w-action_type_move i-bem w-action_js_inited" data-bem="{&quot;b-page-more-panel-item&quot;:{},&quot;w-action&quot;:{&quot;type&quot;:&quot;page&quot;}}">Перенести</div><div class="b-page-more-panel-item w-action w-action_type_copy i-bem w-action_js_inited" data-bem="{&quot;b-page-more-panel-item&quot;:{},&quot;w-action&quot;:{&quot;type&quot;:&quot;article&quot;}}">Копировать</div><div class="b-page-more-panel-item w-action w-action_type_subscribe i-bem w-action_js_inited" data-bem="{&quot;b-page-more-panel-item&quot;:{},&quot;w-action&quot;:{}}">Подписать пользователей</div><div class="b-page-more-panel-item w-action w-action_type_access i-bem w-action_js_inited" data-bem="{&quot;b-page-more-panel-item&quot;:{},&quot;w-action&quot;:{}}">Настроить доступ</div><div class="b-page-more-panel-item b-page-more-panel-item_type_old-page w-action w-action_type_old-page i-bem w-action_js_inited" data-bem="{&quot;b-page-more-panel-item&quot;:{},&quot;w-action&quot;:{&quot;actuality&quot;:&quot;actual&quot;}}">Поставить метку «Данные устарели»</div><div class="b-page-more-panel-item w-action w-action_type_referrers i-bem w-action_js_inited" data-bem="{&quot;b-page-more-panel-item&quot;:{},&quot;w-action&quot;:{}}">Ссылающиеся страницы</div><div class="b-page-more-panel-item w-action w-action_type_settings i-bem w-action_js_inited" data-bem="{&quot;b-page-more-panel-item&quot;:{},&quot;w-action&quot;:{&quot;user&quot;:{&quot;uid&quot;:1130000045489958,&quot;login&quot;:&quot;ea&quot;,&quot;first_name&quot;:&quot;Evgeniy&quot;,&quot;last_name&quot;:&quot;Andreev&quot;,&quot;display&quot;:&quot;Evgeniy Andreev&quot;,&quot;email&quot;:&quot;ea@varya.studio&quot;,&quot;is_admin&quot;:false,&quot;is_external_employee&quot;:false,&quot;is_dismissed&quot;:false,&quot;settings&quot;:{&quot;code_theme&quot;:&quot;github&quot;,&quot;propose_content_translation&quot;:false,&quot;use_nodejs_frontend&quot;:true,&quot;use_full_width_content&quot;:false,&quot;use_new_wf&quot;:false,&quot;language&quot;:&quot;ru&quot;},&quot;avatar&quot;:&quot;0/0-0&quot;}}}">Настройки</div><div class="b-page-more-panel-item w-action w-action_type_delete i-bem w-action_js_inited" data-bem="{&quot;b-page-more-panel-item&quot;:{},&quot;w-action&quot;:{&quot;type&quot;:&quot;page&quot;,&quot;breadcrumbs&quot;:[{&quot;tag&quot;:&quot;Машинное-зрение&quot;,&quot;url&quot;:&quot;/mashinnoe-zrenie&quot;,&quot;title&quot;:&quot;Машинное зрение&quot;,&quot;is_active&quot;:true},{&quot;tag&quot;:&quot;Машинное-зрение/Tensorflow-1.15_Object_detection_API&quot;,&quot;url&quot;:&quot;/mashinnoe-zrenie/tensorflow-1.15objectdetectionapi&quot;,&quot;title&quot;:&quot;Подготовка работы Tensorflow 1.15 &amp; Object_detection_API&quot;,&quot;is_active&quot;:true}]}}">Удалить</div><div class="w-action w-action_type_unsubscribe i-bem w-action_js_inited" data-bem="{&quot;w-action&quot;:{}}"></div><div class="w-action w-action_type_subpages-change-author i-bem w-action_js_inited" data-bem="{&quot;w-action&quot;:{}}"></div><div class="w-action w-action_type_files i-bem w-action_js_inited" data-bem="{&quot;w-action&quot;:{}}"></div><div class="w-action w-action_type_authors i-bem w-action_js_inited" data-bem="{&quot;w-action&quot;:{}}"></div><div class="w-action w-action_type_authorship i-bem w-action_js_inited" data-bem="{&quot;w-action&quot;:{}}"></div><div class="w-action w-action_type_request-page-author i-bem w-action_js_inited" data-bem="{&quot;w-action&quot;:{}}"></div></div></div></div></div><div class="b-page-title-info"><h1 class="b-page-title">Подготовка работы Tensorflow 1.15 &amp; Object_detection_API</h1></div><div class="w-content w-content_theme_default i-bem w-content_js_inited"><script nonce="">Ya.Rum.sendRaf(2876);</script><div class="wiki-doc wiki-doc_magiclinks_yes wiki-doc_wiki_yes woof wf-doc wf-doc_magiclinks_yes wf-doc_wiki_yes i-bem wiki-doc_js_inited wf-doc_js_inited" data-woof="{&quot;wiki-doc&quot;:{}}" data-wf="{&quot;user&quot;:{&quot;codeTheme&quot;:&quot;github&quot;},&quot;toc&quot;:[{&quot;type&quot;:&quot;heading&quot;,&quot;depth&quot;:3,&quot;anchor&quot;:&quot;podgotovkarabotytensorflow1.15objectdetectionapi&quot;,&quot;value&quot;:&quot;Подготовка  работы  Tensorflow 1.15 &amp; Object_detection_API&quot;,&quot;isMd&quot;:false},{&quot;type&quot;:&quot;heading&quot;,&quot;depth&quot;:3,&quot;anchor&quot;:&quot;podgotovkaobuchajushhegonaboraizvideo&quot;,&quot;value&quot;:&quot;Подготовка обучающего набора из видео&quot;,&quot;isMd&quot;:false},{&quot;type&quot;:&quot;heading&quot;,&quot;depth&quot;:3,&quot;anchor&quot;:&quot;zapuskprocessaobuchenija&quot;,&quot;value&quot;:&quot;Запуск  процесса  обучения&quot;,&quot;isMd&quot;:false},{&quot;type&quot;:&quot;heading&quot;,&quot;depth&quot;:3,&quot;anchor&quot;:&quot;jeksportirovaniegrafavychislenijj&quot;,&quot;value&quot;:&quot;Экспортирование  графа  вычислений&quot;,&quot;isMd&quot;:false},{&quot;type&quot;:&quot;heading&quot;,&quot;depth&quot;:3,&quot;anchor&quot;:&quot;proverkarabotysetinavideo&quot;,&quot;value&quot;:&quot;Проверка работы сети на видео&quot;,&quot;isMd&quot;:false},{&quot;type&quot;:&quot;heading&quot;,&quot;depth&quot;:3,&quot;anchor&quot;:&quot;proverkarabotysetinaizobrazhenijax&quot;,&quot;value&quot;:&quot;Проверка работы сети на изображениях&quot;,&quot;isMd&quot;:false}],&quot;wiki-attrs&quot;:{&quot;lang&quot;:&quot;ru&quot;,&quot;platform&quot;:&quot;desktop&quot;,&quot;instance&quot;:&quot;business&quot;,&quot;schi_url&quot;:&quot;https://schi.yandex.ru&quot;,&quot;magiclinks_url&quot;:&quot;https://magiclinks.yandex.ru/magiclinks/v1/links&quot;,&quot;tracker_url&quot;:&quot;https://tracker.yandex.ru&quot;,&quot;staff_url&quot;:&quot;https://staff.yandex.ru&quot;,&quot;forms_url&quot;:&quot;https://connect.yandex.ru&quot;,&quot;wiki_url&quot;:&quot;https://wiki.yandex.ru&quot;,&quot;wiki_api_url&quot;:&quot;https://wiki-api.yandex.ru&quot;,&quot;docviewer_url&quot;:&quot;https://docviewer.yandex.ru&quot;,&quot;at_url&quot;:&quot;https://clubs.at.yandex-team.ru&quot;,&quot;charts_url&quot;:&quot;https://charts-beta.yandex-team.ru&quot;,&quot;statface_url&quot;:&quot;https://stat-beta.yandex-team.ru&quot;,&quot;yastatic_url&quot;:&quot;//yastatic.net&quot;,&quot;useAJAX&quot;:false,&quot;renderActionsByClick&quot;:false,&quot;code_theme&quot;:&quot;github&quot;,&quot;page_path&quot;:&quot;/mashinnoe-zrenie/tensorflow-1.15objectdetectionapi&quot;,&quot;remark&quot;:{&quot;markdown&quot;:{&quot;commonmark&quot;:true,&quot;footnotes&quot;:true,&quot;position&quot;:true},&quot;woofmd&quot;:{&quot;actions&quot;:[{&quot;name&quot;:&quot;a&quot;},{&quot;name&quot;:&quot;anchor&quot;},{&quot;name&quot;:&quot;forms&quot;},{&quot;name&quot;:&quot;iframe&quot;},{&quot;name&quot;:&quot;grid&quot;},{&quot;name&quot;:&quot;tree&quot;},{&quot;name&quot;:&quot;toc&quot;},{&quot;name&quot;:&quot;mypages&quot;},{&quot;name&quot;:&quot;mywatches&quot;},{&quot;name&quot;:&quot;backlinks&quot;},{&quot;name&quot;:&quot;tasks&quot;}]}},&quot;extensions&quot;:{},&quot;orgId&quot;:&quot;813822&quot;,&quot;translations&quot;:{&quot;wiki-action-include&quot;:{&quot;cycle&quot;:&quot;Обнаружена циклическая зависимость&quot;,&quot;page&quot;:&quot;Страница&quot;,&quot;grid&quot;:&quot;Страница-грид вставляется на страницу посредством экшена {{grid}}&quot;,&quot;page_mismatch&quot;:&quot;Данный тип страницы не поддерживается&quot;},&quot;wiki-formatter&quot;:{},&quot;wiki-action-serviceteam&quot;:{&quot;contacts&quot;:&quot;Контакты сервиса&quot;,&quot;roles&quot;:&quot;Команда сервиса&quot;,&quot;serviceteam&quot;:&quot;Команда сервиса&quot;},&quot;wiki-action-backlinks&quot;:{&quot;backlinks&quot;:&quot;Страницы, ссылающиеся на данную&quot;},&quot;wiki-action-mywatches&quot;:{&quot;unwatch&quot;:&quot;Отписаться от изменений&quot;},&quot;wiki-action-mypages&quot;:{&quot;user_pages&quot;:&quot;Страницы пользователя&quot;,&quot;ordered&quot;:&quot;упорядоченные&quot;},&quot;wiki-action-tasks&quot;:{&quot;no-tasks&quot;:&quot;Тикеты по данному запросу не найдены.&quot;},&quot;wiki-action&quot;:{&quot;error&quot;:&quot;Ошибка при получении экшена&quot;,&quot;load&quot;:&quot;Загрузить&quot;,&quot;action&quot;:&quot;Экшн&quot;},&quot;wiki-widget-action&quot;:{&quot;error&quot;:&quot;Ошибка при получении экшена&quot;},&quot;wiki-action-tree&quot;:{&quot;cluster_tree&quot;:&quot;Структура раздела&quot;,&quot;expand_all&quot;:&quot;Показать все подстраницы&quot;,&quot;full_loaded&quot;:&quot;Все подстраницы загружены&quot;,&quot;not_full_loaded&quot;:&quot;Не все подстраницы загружены&quot;},&quot;wiki-action-tree-page&quot;:{&quot;created&quot;:&quot;создано&quot;,&quot;modified&quot;:&quot;отредактировано&quot;},&quot;wiki-action-feed&quot;:{&quot;today&quot;:&quot;сегодня&quot;},&quot;wiki-head&quot;:{&quot;edit&quot;:&quot;правка&quot;},&quot;wiki-toc&quot;:{&quot;contents&quot;:&quot;Оглавление документа&quot;},&quot;wiki-ref&quot;:{&quot;external_link&quot;:&quot;Внешняя ссылка (откроется в новом окне)&quot;},&quot;wiki-cut&quot;:{&quot;more&quot;:&quot;Подробнее&quot;}}}}" data-bem="{&quot;wf-doc&quot;:{}}"><h3 class="wiki-head wf-head i-bem wiki-head_js_inited wf-head_js_inited wf-head_active_yes" data-woof="{&quot;wiki-head&quot;:{}}" data-wf="{&quot;anchor&quot;:&quot;podgotovkarabotytensorflow1.15objectdetectionapi&quot;,&quot;section_local&quot;:1,&quot;includesPath&quot;:[],&quot;text&quot;:&quot;Подготовка  работы  Tensorflow 1.15 &amp; Object_detection_API&quot;}" data-bem="{&quot;wf-head&quot;:{}}"><div class="wiki-head__anchors"><a class="wiki-head__anchor" name="podgotovkarabotytensorflow1.15objectdetectionapi"></a></div><span class="wiki-head__text">Подготовка  работы  Tensorflow 1.15 &amp; Object_detection_API</span><div class="wiki-head__anchor-link"><a class="wiki-link" href="#podgotovkarabotytensorflow1.15objectdetectionapi">§</a><a class="link link_theme_normal link_role_edit wf-head__edit-link i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="https://wiki.yandex.ru/mashinnoe-zrenie/tensorflow-1.15objectdetectionapi/.edit?section=1&amp;goanchor=h-1">правка</a></div></h3><ol class="wiki-list wiki-list_list-type_decimal" start="1"><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Необходимо загрузить и установить  NVIDIA  GeForce  Experience</div></div></li><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Установка
 Visual Studio (Visual Studio 2017). Отдельная установка Microsoft  
Visual C++ Build  Tools для меня не решила проблему.</div></div></li><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Загрузка и установка CUDA  v10.0.130_win10 <br><span class="wiki-magiclink"><a class="wiki-magiclink__list wiki-link" href="https://developer.nvidia.com/cuda-10.0-download-archive?target_os=Windows&amp;target_arch=x86_64&amp;target_version=10&amp;target_type=exenetwork" target="_blank" title="Open in new window"><span class="wiki-magiclink__list wiki-magiclink-action wiki-magiclink-action_type_halfscreenpreview i-bem wiki-magiclink-action_js_inited" data-woof="{&quot;wiki-magiclink-action&quot;:{&quot;type&quot;:&quot;halfscreenpreview&quot;,&quot;url&quot;:&quot;https://developer.nvidia.com/cuda-10.0-download-archive?target_os=Windows&amp;target_arch=x86_64&amp;target_version=10&amp;target_type=exenetwork&quot;}}"><span class="wiki-magiclink__image" style="background-image: url(https://favicon.yandex.net/favicon/developer.nvidia.com)">&nbsp;</span></span>&nbsp;<span class="wiki-magiclink__string">CUDA Toolkit 10.0 Archive</span>&nbsp;<span class="wiki-magiclink__string">@NVIDIA Developer</span></a></span><br>Устанавливаем  переменные среды:<br>C:\Program Files\NVIDIA GPU Computing  Toolkit\CUDA\v10.0\bin<br>C:\Program Files\NVIDIA GPU Computing  Toolkit\CUDA\v10.0\lib\x64<br>C:\Program Files\NVIDIA GPU Computing  Toolkit\CUDA\v10.0\include</div></div></li><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Загрузка и распаковка cuDNN  v7.6.4.38 для CUDA v10.0<br>    <a class="wiki-link wiki-ref wiki-ref wiki-ref_magiclink_yes i-bem wiki-ref_js_inited" title="Внешняя ссылка (откроется в новом окне)" href="https://developer.nvidia.com/rdp/cudnn-archive" target="_blank"></a><span class="wiki-magiclink"><a class="wiki-magiclink__list wiki-link" href="https://developer.nvidia.com/rdp/cudnn-archive" target="_blank" title="Open in new window"><span class="wiki-magiclink__list wiki-magiclink-action wiki-magiclink-action_type_halfscreenpreview i-bem wiki-magiclink-action_js_inited" data-woof="{&quot;wiki-magiclink-action&quot;:{&quot;type&quot;:&quot;halfscreenpreview&quot;,&quot;url&quot;:&quot;https://developer.nvidia.com/rdp/cudnn-archive&quot;}}"><span class="wiki-magiclink__image" style="background-image: url(https://favicon.yandex.net/favicon/developer.nvidia.com)">&nbsp;</span></span>&nbsp;<span class="wiki-magiclink__string">cuDNN Archive</span>&nbsp;<span class="wiki-magiclink__string">@NVIDIA Developer</span></a></span><br>Копируем  соответствующие файлы:<br>&lt;<strong class="wiki-bold">installpath</strong>&gt;\cuda\bin\cudnn64_7.dll  в  C:\Program  Files\NVIDIA  GPU  Computing  Toolkit\CUDA\v10.0\bin.<br>&lt;<strong class="wiki-bold">installpath</strong>&gt;\cuda\ include\cudnn.h  в C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.0\include.<br>&lt;<strong class="wiki-bold">installpath</strong>&gt;\cuda\lib\x64\cudnn.lib в C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v10.0\lib\x64.</div></div></li><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Установка Anaconda и настройка среды <br>Создаем новую virtual  environment и выполняем:<br>conda  activate &lt;<strong class="wiki-bold">environment_name</strong>&gt;<br>conda install tensorflow-gpu==1.15<br>conda install -c anaconda protobuf<br>pip install pillow<br>pip install lxml<br>pip install Cython<br>pip install contextlib2<br>pip install matplotlib<br>pip install pandas<br>pip install opencv-python<br>pip install git+<span class="wiki-magiclink"><a class="wiki-magiclink__list wiki-link" href="https://github.com/philferriere/cocoapi.git#subdirectory=PythonAPI" target="_blank" title="Open in new window"><span class="wiki-magiclink__list wiki-magiclink-action wiki-magiclink-action_type_halfscreenpreview i-bem wiki-magiclink-action_js_inited" data-woof="{&quot;wiki-magiclink-action&quot;:{&quot;type&quot;:&quot;halfscreenpreview&quot;,&quot;url&quot;:&quot;https://github.com/philferriere/cocoapi.git#subdirectory=PythonAPI&quot;}}"><span class="wiki-magiclink__image" style="background-image: url(https://favicon.yandex.net/favicon/github.com)">&nbsp;</span></span>&nbsp;<span class="wiki-magiclink__string">https://github.com/philferriere/cocoapi.git#subdirectory=PythonAPI</span></a></span><br>//Возможно
 для выполнения этой команды потребуется запуск через терминал VS (Пуск 
-&gt; Visual Studio 20__ -&gt; x64 Native Tools Command Prompt for VS 
20__), в котором нужно будет сначала войти в созданную среду с помощью 
conda  activate &lt;<strong class="wiki-bold">environment_name</strong>&gt;<br>Проверка  поддержки GPU:<br>import tensorflow as tf<br>tf.test.gpu_device_name()<br>...<br>Если возникает ошибка на строке "import tensorflow as tf": <div class="wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes" style=""><div class="b-page-code b-page-code_multiline_yes i-bem b-page-code_js_inited" data-woof="{&quot;b-page-code&quot;:{}}"><code class="b-page-code__code no-highlight"><pre class="b-page-code__pre">...
"File "C:\Users\user\...&lt;path to env&gt;...\env_name\lib\imp.py", line 343, in load_dynamic
return _load(spec)
ImportError: DLL load failed: The specified module could not be found."
During handling of the above exception, another exception occurred:
...</pre></code></div></div><br>То может помочь понижение версии Tensor Flow: <div class="wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes" style=""><div class="b-page-code b-page-code_inline_yes i-bem b-page-code_js_inited" data-woof="{&quot;b-page-code&quot;:{}}"><code class="b-page-code__code no-highlight">conda install tensorflow-gpu==1.14.0</code></div></div></div></div></li><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Загрузка и распаковка <span class="wiki-magiclink"><a class="wiki-magiclink__list wiki-link" href="https://github.com/tensorflow/models" target="_blank" title="Open in new window"><span class="wiki-magiclink__list wiki-magiclink-action wiki-magiclink-action_type_halfscreenpreview i-bem wiki-magiclink-action_js_inited" data-woof="{&quot;wiki-magiclink-action&quot;:{&quot;type&quot;:&quot;halfscreenpreview&quot;,&quot;url&quot;:&quot;https://github.com/tensorflow/models&quot;}}"><span class="wiki-magiclink__image" style="background-image: url(https://favicon.yandex.net/favicon/github.com)">&nbsp;</span></span>&nbsp;<span class="wiki-magiclink__string">tensorflow/models</span>&nbsp;<span class="wiki-magiclink__string">@GitHub</span></a></span><br>Устанавливаем  переменные среды:<br>C:\tf_models\models<br>C:\tf_models\models\research<br>C:\tf_models\models\research\slim<br>После чего выполняем команды:<br>set
 
PYTHONPATH=C:\tf_models\models;C:\tf_models\models\research;C:\tf_models\models\research\slim;C:\tf_models\models\research\slim\nets<br>cd C:\tf_models\models\research<br>protoc
 --python_out=. .\object_detection\protos\anchor_generator.proto 
.\object_detection\protos\argmax_matcher.proto 
.\object_detection\protos\bipartite_matcher.proto 
.\object_detection\protos\box_coder.proto 
.\object_detection\protos\box_predictor.proto 
.\object_detection\protos\eval.proto 
.\object_detection\protos\faster_rcnn.proto 
.\object_detection\protos\faster_rcnn_box_coder.proto 
.\object_detection\protos\grid_anchor_generator.proto 
.\object_detection\protos\hyperparams.proto 
.\object_detection\protos\image_resizer.proto 
.\object_detection\protos\input_reader.proto 
.\object_detection\protos\losses.proto 
.\object_detection\protos\matcher.proto 
.\object_detection\protos\mean_stddev_box_coder.proto 
.\object_detection\protos\model.proto 
.\object_detection\protos\optimizer.proto 
.\object_detection\protos\pipeline.proto 
.\object_detection\protos\post_processing.proto 
.\object_detection\protos\preprocessor.proto 
.\object_detection\protos\region_similarity_calculator.proto 
.\object_detection\protos\square_box_coder.proto 
.\object_detection\protos\ssd.proto 
.\object_detection\protos\ssd_anchor_generator.proto 
.\object_detection\protos\string_int_label_map.proto 
.\object_detection\protos\train.proto 
.\object_detection\protos\keypoint_box_coder.proto 
.\object_detection\protos\multiscale_anchor_generator.proto 
.\object_detection\protos\graph_rewriter.proto 
.\object_detection\protos\calibration.proto 
.\object_detection\protos\center_net.proto  
.\object_detection\protos\flexible_grid_anchor_generator.proto 
.\object_detection\protos\target_assigner.proto<br>python setup.py build<br>python setup.py install</div></div></li><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Возможные ошибки<br><strong class="wiki-bold">ModuleNotFoundError</strong><strong class="wiki-bold">: No module named 'nets'</strong><br>Если
  все  переменные  установлены, но  все  равно  возникает  ошибка  
копируем  всю  папку nets из  папки slim в  папку C:\Users\ &lt;<strong class="wiki-bold">user</strong>&gt;\Anaconda3\envs&lt;<strong class="wiki-bold">env_name</strong>&gt;\Lib\site-packages\object_detection-0.1-py3.6.egg<br><strong class="wiki-bold">TypeError</strong><strong class="wiki-bold">: can't pickle</strong> <strong class="wiki-bold">dict_values</strong> <strong class="wiki-bold">objects</strong><br>Добавьте
  list() к category_index.values() в   
C:\models\research\object_detection\model_lib.py о строке  418  
list(category_index.values()).<br><strong class="wiki-bold">mportError</strong><strong class="wiki-bold">: cannot import name 'slim' from '</strong><strong class="wiki-bold">tf_slim</strong><strong class="wiki-bold">' (/Users/uthayan.manavalan/anaconda3/envs/cnn/lib/python3.7/site-packages/tf_slim/init.py)</strong><br>pip  install --upgrade  tf-slim<br><strong class="wiki-bold">Error when evaluate: object of type &lt;class '</strong><strong class="wiki-bold">numpy.float</strong><strong class="wiki-bold">64'&gt; cannot be safely interpreted as an integer</strong><br>Измените  версию  numpy на 1.17 вместо 1.18.</div></div></li></ol><h3 class="wiki-head wf-head i-bem wiki-head_js_inited wf-head_js_inited wf-head_active_yes" data-woof="{&quot;wiki-head&quot;:{}}" data-wf="{&quot;anchor&quot;:&quot;podgotovkaobuchajushhegonaboraizvideo&quot;,&quot;section_local&quot;:2,&quot;includesPath&quot;:[],&quot;text&quot;:&quot;Подготовка обучающего набора из видео&quot;}" data-bem="{&quot;wf-head&quot;:{}}"><div class="wiki-head__anchors"><a class="wiki-head__anchor" name="podgotovkaobuchajushhegonaboraizvideo"></a></div><span class="wiki-head__text">Подготовка обучающего набора из видео</span><div class="wiki-head__anchor-link"><a class="wiki-link" href="#podgotovkaobuchajushhegonaboraizvideo">§</a><a class="link link_theme_normal link_role_edit wf-head__edit-link i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="https://wiki.yandex.ru/mashinnoe-zrenie/tensorflow-1.15objectdetectionapi/.edit?section=2&amp;goanchor=h-2">правка</a></div></h3><div class="wiki-p">На
 входном наборе несортированных видео  применяется утилита 
sort_video.py, которая в каждом видео осуществляет поиск сыра и ждет 
подтверждения оператора о принадлежности найденного класса сыра. На 
выходе формируются списки видео для каждого типа сыра.</div><div class="wiki-p">Нарезка
 обучающих кадров для каждого типа сыра осуществляется с помощью утилиты
 cut_dataset.py. В данной утилите осуществляется поиск и выделения сыра 
на каждом кадре, после чего формируются обучающие примеры, включающие 
.png изображение и .txt  аннотацию. Для получения более качественных 
аннотаций в cut_dataset.py встроена возможность динамической подстройки 
цветовой маски, позволяющей точнее описать объект.</div><div class="wiki-p">Далее
 обучающий набор представляется в виде .csv таблиц с помощью утилиты 
txt_to_csv.py. После чего из .csv файлов с помощью generate_tfrecord.py 
формируется подходящие для обучения структуры данных .record</div><h3 class="wiki-head wf-head i-bem wiki-head_js_inited wf-head_js_inited wf-head_active_yes" data-woof="{&quot;wiki-head&quot;:{}}" data-wf="{&quot;anchor&quot;:&quot;zapuskprocessaobuchenija&quot;,&quot;section_local&quot;:3,&quot;includesPath&quot;:[],&quot;text&quot;:&quot;Запуск  процесса  обучения&quot;}" data-bem="{&quot;wf-head&quot;:{}}"><div class="wiki-head__anchors"><a class="wiki-head__anchor" name="zapuskprocessaobuchenija"></a></div><span class="wiki-head__text">Запуск  процесса  обучения</span><div class="wiki-head__anchor-link"><a class="wiki-link" href="#zapuskprocessaobuchenija">§</a><a class="link link_theme_normal link_role_edit wf-head__edit-link i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="https://wiki.yandex.ru/mashinnoe-zrenie/tensorflow-1.15objectdetectionapi/.edit?section=3&amp;goanchor=h-3">правка</a></div></h3><ol class="wiki-list wiki-list_list-type_decimal" start="1"><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Для  начала  обучения  требуется  загрузить требуемую нейросетевую модель из  <span class="wiki-magiclink"><a class="wiki-magiclink__list wiki-link" href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/tf1_detection_zoo.md" target="_blank" title="Open in new window"><span class="wiki-magiclink__list wiki-magiclink-action wiki-magiclink-action_type_halfscreenpreview i-bem wiki-magiclink-action_js_inited" data-woof="{&quot;wiki-magiclink-action&quot;:{&quot;type&quot;:&quot;halfscreenpreview&quot;,&quot;url&quot;:&quot;https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/tf1_detection_zoo.md&quot;}}"><span class="wiki-magiclink__image" style="background-image: url(https://favicon.yandex.net/favicon/github.com)">&nbsp;</span></span>&nbsp;<span class="wiki-magiclink__string">tensorflow/models</span>&nbsp;<span class="wiki-magiclink__string">@GitHub</span></a></span></div></div></li><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Создаем файл меток классов .pbtxt вида:<br><div class="wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes" style=""><div class="b-page-code b-page-code_multiline_yes i-bem b-page-code_js_inited" data-woof="{&quot;b-page-code&quot;:{}}"><code class="b-page-code__code no-highlight"><pre class="b-page-code__pre">item {
  id: 1
  name: 'brick'
}
item {
    id: 2
    name: 'shaiba_big'
}</pre></code></div></div></div></div></li><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Дальше  изменяем  конфигурационный  файл:</div></div></li></ol><ul class="wiki-list"><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Задаем требуемое число классов<br>num_classes: 4</div></div></li><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Задаем размер партии<br>batch_size: 4</div></div></li><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Определяем пути:<br>fine_tune_checkpoint: "C:/../train/model.ckpt"<br>label_map_path: "C:/../train/object-detection.pbtxt"<br>train_input_reader  { input_path: "C:/../data/train.record"<br>eval_input_reader  { input_path: "C:/../data/val.record"</div></div></li></ul><ol class="wiki-list wiki-list_list-type_decimal" start="4"><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Запуск  процесса  обучения:<br>python model_main.py --model_dir=training --pipeline_config_path=train/pipeline.config</div></div></li><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Возможные  ошибки:<br><strong class="wiki-bold">Not found: Key BoxPredictor_0/BoxEncodingPredictor/biases/ExponentialMovingAverage not found in checkpoint</strong><br>Добавьте  строку  use_moving_averages: false в  раздел  evel_config  в  конфигурационном  файле  сети<br><strong class="wiki-bold">Restoring
 from checkpoint failed. This is most likely due to a Variable name or 
other graph key that is missing from the checkpoint</strong><br>Требуется изменить директорию модели, где вы сохранены старые контрольные точки.<br><strong class="wiki-bold">Для видеокарт серии</strong> <strong class="wiki-bold">RTX</strong> <strong class="wiki-bold">и при возникновении ошибок типа</strong> <br><strong class="wiki-bold">Could not create</strong> <strong class="wiki-bold">cudnn</strong> <strong class="wiki-bold">handle: CUDNN_STATUS_INTERNAL_ERROR</strong><br><strong class="wiki-bold">Could not destroy</strong> <strong class="wiki-bold">cudnn</strong> <strong class="wiki-bold">handle: CUDNN_STATUS_BAD_PARAM</strong><br><strong class="wiki-bold">Could not create</strong> <strong class="wiki-bold">cudnn</strong> <strong class="wiki-bold">handle: CUDNN_STATUS_ALLOC_FAILED</strong><br><strong class="wiki-bold">Could not create</strong> <strong class="wiki-bold">cudnn</strong> <strong class="wiki-bold">handle: CUDNN_STATUS_INTERNAL_ERROR</strong><br>Следует изменить строки model_main.py<br><div class="wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes" style=""><div class="b-page-code b-page-code_inline_yes i-bem b-page-code_js_inited" data-woof="{&quot;b-page-code&quot;:{}}"><code class="b-page-code__code no-highlight">config = tf.estimator.RunConfig(model_dir=FLAGS.model_dir)</code></div></div><br>На<br><div class="wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes" style=""><div class="b-page-code b-page-code_multiline_yes i-bem b-page-code_js_inited" data-woof="{&quot;b-page-code&quot;:{}}"><code class="b-page-code__code no-highlight"><pre class="b-page-code__pre">session_config = tf.ConfigProto()
session_config.gpu_options.allow_growth = True 
#  session_config.gpu_options.per_process_gpu_memory_fraction = .8    
config=tf.estimator.RunConfig(model_dir=FLAGS.model_dir, session_config=session_config)</pre></code></div></div><br>Строки  inference_case.py<br><div class="wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes" style=""><div class="b-page-code b-page-code_multiline_yes i-bem b-page-code_js_inited" data-woof="{&quot;b-page-code&quot;:{}}"><code class="b-page-code__code no-highlight"><pre class="b-page-code__pre">with detection_graph.as_default():
  with tf.compat.v1.Session(graph=detection_graph) as sess:</pre></code></div></div><br>На<br><div class="wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes" style=""><div class="b-page-code b-page-code_multiline_yes i-bem b-page-code_js_inited" data-woof="{&quot;b-page-code&quot;:{}}"><code class="b-page-code__code no-highlight"><pre class="b-page-code__pre">session_config = tf.compat.v1.ConfigProto()
session_config.gpu_options.allow_growth = True                                                         
# session_config.gpu_options.per_process_gpu_memory_fraction = .8        
with detection_graph.as_default():
  with tf.compat.v1.Session(graph=detection_graph, config=session_config) as sess:</pre></code></div></div><br>При  нехватке  видеопамяти  раскомментировать  строку<br><div class="wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes" style=""><div class="b-page-code b-page-code_inline_yes i-bem b-page-code_js_inited" data-woof="{&quot;b-page-code&quot;:{}}"><code class="b-page-code__code no-highlight">session_config.gpu_options.per_process_gpu_memory_fraction = .8</code></div></div><br>...<br>Если при попытке запуска процесса обучения возникает ошибка:<br> <div class="wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes" style=""><div class="b-page-code b-page-code_multiline_yes i-bem b-page-code_js_inited" data-woof="{&quot;b-page-code&quot;:{}}"><code class="b-page-code__code no-highlight"><pre class="b-page-code__pre">Windows fatal exception: access violation

Current thread 0x00000708 (most recent call first):
File "C:\Users\&lt;path_to_env&gt;\lib\site-packages\tensorflow\python\lib\io\file_io.py", line 84 in _preread_check</pre></code></div></div><br>То первым делом надо проверить правильность путей, которые указывали в /train/pipeline.config.</div></div></li><li class="wiki-li"><div class="wiki-li__wrapper"><div class="wiki-p">Для
 отслеживания процесса обучения сети надо использовать программу 
tensorboard. В отдельном терминале нужно активировать свою виртуальную 
среду (которую создали ранее для работы с tensorflow-gpu), затем 
выполнить: <br> <div class="wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes" style=""><div class="b-page-code b-page-code_inline_yes i-bem b-page-code_js_inited" data-woof="{&quot;b-page-code&quot;:{}}"><code class="b-page-code__code no-highlight">tensorboard --logdir C:/PythonProject/&lt;path_to_dir&gt;/training</code></div></div><br>В конце отклика в терминале будет ссылка на веб-страницу, которую надо открыть в браузере.<br>...<br>Если при этом возникает ошибка: <br> <div class="wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes" style=""><div class="b-page-code b-page-code_inline_yes i-bem b-page-code_js_inited" data-woof="{&quot;b-page-code&quot;:{}}"><code class="b-page-code__code no-highlight">ValueError: Not a TBLoader or TBPlugin subclass: &lt;class 'tensorboard_plugin_wit.wit_plugin_loader.WhatIfToolPluginLoader'&gt;</code></div></div>, <br>помогает удаление проблемного плагина (<span class="wiki-magiclink"><a class="wiki-magiclink__list wiki-link" href="https://github.com/tensorflow/tensorboard/issues/3549" target="_blank" title="Open in new window"><span class="wiki-magiclink__list wiki-magiclink-action wiki-magiclink-action_type_halfscreenpreview i-bem wiki-magiclink-action_js_inited" data-woof="{&quot;wiki-magiclink-action&quot;:{&quot;type&quot;:&quot;halfscreenpreview&quot;,&quot;url&quot;:&quot;https://github.com/tensorflow/tensorboard/issues/3549&quot;}}"><span class="wiki-magiclink__image" style="background-image: url(https://favicon.yandex.net/favicon/github.com)">&nbsp;</span></span>&nbsp;<span class="wiki-magiclink__string">ValueError: Not a TBLoader... </span>&nbsp;<span class="wiki-magiclink__string">@GitHub</span></a></span>):<br> <div class="wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes" style=""><div class="b-page-code b-page-code_inline_yes i-bem b-page-code_js_inited" data-woof="{&quot;b-page-code&quot;:{}}"><code class="b-page-code__code no-highlight">pip uninstall tensorboard-plugin-wit</code></div></div><br>...<br>Если
 при запуске tensorboard указать только папку, где находится информация 
по тренировке, могут быть проблемы с открытием веб-страницы 
(веб-страница не доступна в браузере). Может помочь указание не только 
папки с тренировкой, но и хоста и порта (<span class="wiki-magiclink"><a class="wiki-magiclink__list wiki-link" href="https://stackoverflow.com/questions/40106949/unable-to-open-tensorboard-in-browser" target="_blank" title="Open in new window"><span class="wiki-magiclink__list wiki-magiclink-action wiki-magiclink-action_type_halfscreenpreview i-bem wiki-magiclink-action_js_inited" data-woof="{&quot;wiki-magiclink-action&quot;:{&quot;type&quot;:&quot;halfscreenpreview&quot;,&quot;url&quot;:&quot;https://stackoverflow.com/questions/40106949/unable-to-open-tensorboard-in-browser&quot;}}"><span class="wiki-magiclink__image" style="background-image: url(https://favicon.yandex.net/favicon/stackoverflow.com)">&nbsp;</span></span>&nbsp;<span class="wiki-magiclink__string">Unable to open Tensorboard... </span>&nbsp;<span class="wiki-magiclink__string">@Stack Overflow</span></a></span>): <br> <div class="wiki-formatter wiki-formatter_format_code wiki-formatter_type_inline wiki-formatter_wiki_yes" style=""><div class="b-page-code b-page-code_inline_yes i-bem b-page-code_js_inited" data-woof="{&quot;b-page-code&quot;:{}}"><code class="b-page-code__code no-highlight">tensorboard --logdir C:/PythonProject/&lt;path_to_dir&gt;/training --host localhost --port 8088</code></div></div></div></div></li></ol><h3 class="wiki-head wf-head i-bem wiki-head_js_inited wf-head_js_inited wf-head_active_yes" data-woof="{&quot;wiki-head&quot;:{}}" data-wf="{&quot;anchor&quot;:&quot;jeksportirovaniegrafavychislenijj&quot;,&quot;section_local&quot;:4,&quot;includesPath&quot;:[],&quot;text&quot;:&quot;Экспортирование  графа  вычислений&quot;}" data-bem="{&quot;wf-head&quot;:{}}"><div class="wiki-head__anchors"><a class="wiki-head__anchor" name="jeksportirovaniegrafavychislenijj"></a></div><span class="wiki-head__text">Экспортирование  графа  вычислений</span><div class="wiki-head__anchor-link"><a class="wiki-link" href="#jeksportirovaniegrafavychislenijj">§</a><a class="link link_theme_normal link_role_edit wf-head__edit-link i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="https://wiki.yandex.ru/mashinnoe-zrenie/tensorflow-1.15objectdetectionapi/.edit?section=4&amp;goanchor=h-4">правка</a></div></h3><div class="wiki-p">python
 export_inference_graph.py --input_type  image_tensor 
--pipeline_config_path train/pipeline.config --trained_checkpoint_prefix
 training/model.ckpt-66184 --output_directory inference</div><h3 class="wiki-head wf-head i-bem wiki-head_js_inited wf-head_js_inited wf-head_active_yes" data-woof="{&quot;wiki-head&quot;:{}}" data-wf="{&quot;anchor&quot;:&quot;proverkarabotysetinavideo&quot;,&quot;section_local&quot;:5,&quot;includesPath&quot;:[],&quot;text&quot;:&quot;Проверка работы сети на видео&quot;}" data-bem="{&quot;wf-head&quot;:{}}"><div class="wiki-head__anchors"><a class="wiki-head__anchor" name="proverkarabotysetinavideo"></a></div><span class="wiki-head__text">Проверка работы сети на видео</span><div class="wiki-head__anchor-link"><a class="wiki-link" href="#proverkarabotysetinavideo">§</a><a class="link link_theme_normal link_role_edit wf-head__edit-link i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="https://wiki.yandex.ru/mashinnoe-zrenie/tensorflow-1.15objectdetectionapi/.edit?section=5&amp;goanchor=h-5">правка</a></div></h3><div class="wiki-p">Запуск
 проверки на видео осуществляется с помощью утилиты inference_case.py. 
При этом имеется два режима чтения видео. Первый, последовательное 
чтение видео из папки videos. Второй, использование сформированных для 
обучения списков видеофайлов для отдельных классов.</div><h3 class="wiki-head wf-head i-bem wiki-head_js_inited wf-head_js_inited wf-head_active_yes" data-woof="{&quot;wiki-head&quot;:{}}" data-wf="{&quot;anchor&quot;:&quot;proverkarabotysetinaizobrazhenijax&quot;,&quot;section_local&quot;:6,&quot;includesPath&quot;:[],&quot;text&quot;:&quot;Проверка работы сети на изображениях&quot;}" data-bem="{&quot;wf-head&quot;:{}}"><div class="wiki-head__anchors"><a class="wiki-head__anchor" name="proverkarabotysetinaizobrazhenijax"></a></div><span class="wiki-head__text">Проверка работы сети на изображениях</span><div class="wiki-head__anchor-link"><a class="wiki-link" href="#proverkarabotysetinaizobrazhenijax">§</a><a class="link link_theme_normal link_role_edit wf-head__edit-link i-bem" data-bem="{&quot;link&quot;:{}}" tabindex="0" href="https://wiki.yandex.ru/mashinnoe-zrenie/tensorflow-1.15objectdetectionapi/.edit?section=6&amp;goanchor=h-6">правка</a></div></h3><div class="wiki-p">Запуск
 проверки на изображениях осуществляется с помощью утилиты 
inference_images.py последовательным чтением из папки data/images</div></div></div><div class="w-comments w-comments_enabled_yes w-comments_short_yes w-comments_no-comments_yes i-bem" data-bem="{&quot;w-comments&quot;:{&quot;supertag&quot;:&quot;mashinnoe-zrenie/tensorflow-1.15objectdetectionapi&quot;,&quot;user&quot;:{&quot;uid&quot;:1130000045489958,&quot;login&quot;:&quot;ea&quot;,&quot;first_name&quot;:&quot;Evgeniy&quot;,&quot;last_name&quot;:&quot;Andreev&quot;,&quot;display&quot;:&quot;Evgeniy Andreev&quot;,&quot;email&quot;:&quot;ea@varya.studio&quot;,&quot;is_admin&quot;:false,&quot;is_external_employee&quot;:false,&quot;is_dismissed&quot;:false,&quot;settings&quot;:{&quot;code_theme&quot;:&quot;github&quot;,&quot;propose_content_translation&quot;:false,&quot;use_nodejs_frontend&quot;:true,&quot;use_full_width_content&quot;:false,&quot;use_new_wf&quot;:false,&quot;language&quot;:&quot;ru&quot;},&quot;avatar&quot;:&quot;0/0-0&quot;},&quot;commentsCount&quot;:0}}"><div class="w-comments__header"><span class="awesome-icon awesome-icon_icon_comments awesome-icon_type_comments"></span><div class="w-comments__caption">Пока без комментариев</div><button class="button2 button2_theme_normal button2_size_s button2_role_short-switch button2_view_classic w-comments__show-comments i-bem" data-bem="{&quot;button2&quot;:{}}" type="button" autocomplete="off" tabindex="0"><span class="button2__text">Показать</span></button><button class="button2 button2_theme_normal button2_size_s button2_role_add-comment-header button2_view_classic w-comments__add-comment i-bem" data-bem="{&quot;button2&quot;:{}}" type="button" autocomplete="off" tabindex="0"><span class="button2__text">Комментировать</span></button><div class="spin2 spin2_size_xxs spin2_type_load-comments spin2_view_default spin2_tone_default"></div></div><div class="w-comments__comments-list"></div><div class="w-comments__show-more"><div class="spin2 spin2_size_xs spin2_role_show-more spin2_view_default spin2_tone_default"></div><button class="button2 button2_theme_normal button2_size_s button2_role_show-more button2_view_classic i-bem" data-bem="{&quot;button2&quot;:{}}" type="button" autocomplete="off" tabindex="0"><span class="button2__text">Показать еще</span></button></div><div class="w-comments__add-comments"><button class="button2 button2_theme_normal button2_size_m button2_role_add-comment button2_view_classic i-bem" data-bem="{&quot;button2&quot;:{}}" type="button" autocomplete="off" tabindex="0"><span class="button2__text">Комментировать</span></button><div class="w-comments__add-comment-form"><div class="w-comments__add-comment-caption"></div><div class="w-comments__add-comment-editor"></div><div class="w-comments__add-comment-buttons"><button class="button2 button2_theme_normal button2_size_s button2_role_cancel-new-comment button2_view_classic i-bem" data-bem="{&quot;button2&quot;:{}}" type="button" autocomplete="off" tabindex="0"><span class="button2__text">Отменить</span></button><div class="w-comments__right"><div class="spin2 spin2_size_xxs spin2_type_add-comment spin2_view_default spin2_tone_default"></div><button class="button2 button2_size_s button2_theme_action button2_role_submit-new-comment button2_disabled_yes button2_view_classic i-bem" data-bem="{&quot;button2&quot;:{&quot;_tabindex&quot;:&quot;0&quot;}}" type="button" autocomplete="off" disabled="disabled" aria-disabled="true"><span class="button2__text">Отправить</span></button></div></div></div></div></div></div><div class="b-footer i-bem" data-bem="{&quot;b-footer&quot;:{}}"><div class="footer clearfix" role="contentinfo"><div class="footer__column footer__column_side_right"><div class="copyright">©&nbsp;<span class="copyright__dates">2020</span>&nbsp;&nbsp;ООО «<a class="copyright__link" href="https://yandex.ru/">ЯНДЕКС</a>»</div></div></div></div></div></div></div></div><div class="w-bug-report i-bem" data-bem="{&quot;w-bug-report&quot;:{&quot;name&quot;:&quot;bug-report&quot;}}"><button class="button2 button2_theme_normal button2_size_l button2_type_check button2_view_classic w-bug-report__button i-bem button2_js_inited" data-bem="{&quot;button2&quot;:{}}" type="button" autocomplete="off" tabindex="0" aria-pressed="false"><span class="icon icon_size_l icon_type_bug button2__icon"></span></button></div><div class="mi-error i-bem mi-error_js_inited" data-bem="{&quot;mi-error&quot;:{}}"></div><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/react-with-dom.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/watch.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/jquery.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/lodash.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/backbone-min.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/pong.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/socket.js"></script><script nonce="">window.CHUNK_STATIC = "https://wiki.s3.yandex.net/@yandex-int/wiki/_";</script><link rel="stylesheet" href="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/desktop.css"><script nonce="">window.WIKI_FORMATTER_CONFIG = {"instance":"business","platform":"desktop","magiclinks_url":"https:\u002F\u002Fmagiclinks.yandex.ru\u002Fmagiclinks\u002Fv1\u002Flinks","tracker_url":"https:\u002F\u002Ftracker.yandex.ru","staff_url":"https:\u002F\u002Fstaff.yandex.ru","forms_url":"https:\u002F\u002Fconnect.yandex.ru","schi_url":"https:\u002F\u002Fschi.yandex.ru","wiki_url":"https:\u002F\u002Fwiki.yandex.ru","wiki_api_url":"https:\u002F\u002Fwiki-api.yandex.ru","yastatic_url":"\u002F\u002Fyastatic.net","docviewer_url":"https:\u002F\u002Fdocviewer.yandex.ru","useAJAX":false,"remark":{"markdown":{"commonmark":true},"woofmd":{"actions":[{"name":"a"},{"name":"anchor"},{"name":"forms"},{"name":"iframe"},{"name":"grid"},{"name":"tree"},{"name":"toc"},{"name":"mypages"},{"name":"mywatches"},{"name":"backlinks"},{"name":"tasks"}]}},"extensions":{"wiki-head":function(ctx) {
    if (!ctx.block) {
        return ctx;
    }

    const block = ctx.block.replace('wiki', 'wf');
    const params = {};

    params[block] = {};

    return Object.assign({}, ctx, {
        mix: Object.assign({}, ctx.mix, { block: block, mods: ctx.mods }),
        attrs: { 'data-bem': JSON.stringify(params) },
    });
},"wiki-doc":function(ctx) {
    if (!ctx.block) {
        return ctx;
    }

    const block = ctx.block.replace('wiki', 'wf');
    const params = {};

    params[block] = {};

    return Object.assign({}, ctx, {
        mix: Object.assign({}, ctx.mix, { block: block, mods: ctx.mods }),
        attrs: { 'data-bem': JSON.stringify(params) },
    });
}},"bemjsonStarHandler":(bemjson, settings, node) => {
    if (bemjson.block === 'wiki-action' && bemjson.name === 'grid') {
        return {
            block: 'wf-grid',
            js: true,
            attrs: {
                'data-bem': JSON.stringify({
                    'wf-grid': {
                        data: bemjson.params,
                        readonly: settings.renderActionsByClick,
                    },
                }),
            },
        };
    }

    if (bemjson.block === 'wiki-formatter' && bemjson.lang === 'form') {
        bemjson.mix = [{
            block: 'wf-form',
            js: true,
        }];
        bemjson.attrs = {
            'data-bem': JSON.stringify({
                'wf-form': {
                    start: node.position.start.offset,
                    end: node.position.end.offset,
                },
            }),
        };
    }

    return bemjson;
},"lang":"ru","page_path":"\u002Fmashinnoe-zrenie\u002Ftensorflow-1.15objectdetectionapi","code_theme":"github"};</script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/desktop.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/73de6be24bab003fcb39.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/72d9c3d8199047bb5d8f.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/40a47b861267ae219b8f.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/5ba6fd9100ebd3a93883.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/df2a437e61953f22d1ca.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/e57e63961deb015e9ad4.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/fa2d7320ef4c2f2bcc16.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/2628c2c6f5559479a3ca.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/2d64735040ca7312bcb8.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/42814c9c068c2c706ca9.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/f5a9d247165cab134949.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/4fef5fa8ccd067e3f3c8.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/1f7100b5dc22058d10f1.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/a3489d6e6744bb251708.js"></script><script src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/index.js"></script><script nonce="">!function(n){if(!n.Ya||!Ya.Rum)throw new Error("Rum: interface is not defined");var t=Ya.Rum;t.getSetting=function(n){var e=t._settings[n];return null===e?null:e||""}}(window);

!function(e){var r={client:["690.2354",-1,100,0],uncaught:["690.2361",100,10,0],external:["690.2854",100,10,0],script:["690.2609",100,10,0]};function n(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);return e}e.ERROR_LEVEL={INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error",FATAL:"fatal"},e._errorSettings={clck:"https://yandex.ru/clck/click",beacon:!0,project:"unknown",page:"",env:"",experiments:[],additional:{},platform:"",region:"",level:"",version:"",preventError:!1,unhandledRejection:!1,debug:!1,limits:{},silent:{},filters:{}},e.initErrors=function(r){n(e._errorSettings,r)},e.updateErrors=e.initErrors,e._handleError=function(t,o){var i,a,s=e._errorSettings;s.preventError&&t.preventDefault&&t.preventDefault(),o?(i=t,a="client"):a=(i=e._normalizeError(t,s)).type;var l=r[a][1];"number"==typeof s.limits[a]&&(l=s.limits[a]);var c=r[a][2];"number"==typeof s.silent[a]&&(c=s.silent[a]);var u=r[a][3];if(u<l||-1===l){i.path=r[a][0];var d="";try{var m=n({},s.additional);d=JSON.stringify(n(m,t.additional))}catch(e){s.debug&&window.console&&console.error("[error-counter] json.stringify:",e)}e._sendError(i,{additional:d,silent:u<c||-1===c?"no":"yes",isCustom:Boolean(o)}),r[a][3]++}},e._normalizeError=function(r){var n,t=r.filename||r.fileName||"",o=r.error&&r.error.stack||r.stack||"",i="uncaught",a="",s="";return/^Script error\.?$/.test(r.message)?i="script":(n=e._isExternalError(t,r.message,o)).hasExternal&&(i="external",a=n.common,s=n.custom),{file:t,line:r.lineno||r.lineNumber,col:r.colno||r.colNumber,stack:o,message:r.message,external:a,externalCustom:s,type:i}},e._sendError=function(r,n){var t=e._errorSettings,o=t.experiments.length?t.experiments.join(";"):"",i={"-url":r.file,"-line":r.line,"-col":r.col,"-stack":r.stack,"-env":t.env,"-msg":r.message,"-external":r.external,"-externalCustom":r.externalCustom,"-project":t.project,"-service":r.service,"-page":r.page||t.page,"-platform":t.platform,"-level":r.level,"-experiments":o,"-version":t.version,"-region":t.region,"-source":r.source,"-type":n.isCustom?r.type:"","-block":r.block,"-additional":n.additional,"-adb":window.Ya&&Ya.blocker||t.blocker||"","-ua":navigator.userAgent,"-silent":n.silent,"-ts":+new Date},a=function(e){var r=[];for(var n in e)e.hasOwnProperty(n)&&(e[n]||0===e[n])&&r.push(n+"="+encodeURIComponent(e[n]));return r.join(",")}(i);t.debug&&window.console&&console.error("[error-counter]",i),e.send(null,r.path,a,null,null,null,null)};var t=function(e){Ya.Rum._handleError(e,!1)};window.addEventListener?(window.addEventListener("error",t),"Promise"in window&&e._errorSettings.unhandledRejection&&window.addEventListener("unhandledrejection",function(e){var r=e.reason;if(r)if(r.stack&&r.message)t({message:"Unhandled rejection: "+r.message,stack:r.stack});else{var n=String(r);if("[object Event]"===n)n="event.type: "+r.type;else if("[object Object]"===n)try{n=JSON.stringify(r)}catch(e){n="unknown object"}t({message:"Unhandled rejection: "+n})}})):window.onerror=function(e,r,n,o,i){t({error:i||new Error(e||"Empty error"),message:e,lineno:n,colno:o,filename:r})}}(Ya.Rum);

!function(e){var r={url:{0:/(miscellaneous|extension)_bindings/,1:/^chrome:/,2:/kaspersky-labs\.com\//,3:/^(?:moz|chrome)-extension:\/\//,4:/^file:/,5:/^resource:\/\//,6:/webnetc\.top/,7:/local\.adguard\.com/},message:{0:/__adgRemoveDirect/,1:/Content Security Policy/,2:/vid_mate_check/,3:/ucapi/,4:/Access is denied/i,5:/^Uncaught SecurityError/i,6:/__ybro/,7:/__show__deepen/,8:/ntp is not defined/,9:/Cannot set property 'install' of undefined/,10:/NS_ERROR/,11:/Error loading script/,12:/TypeError: undefined is not a function/},stack:{0:/(?:moz|chrome)-extension:\/\//}};function n(e,r){if(e&&r){var n=[];for(var t in r)r.hasOwnProperty(t)&&r[t].test(e)&&n.push(t);return n.length?n.join("_"):""}}function t(e,t){var o,i=[];for(var s in r)r.hasOwnProperty(s)&&(o=n(e[s],t[s]))&&i.push(s+"~"+o);return i.length?i.join(";"):""}e._isExternalError=function(n,o,i){var s=e._errorSettings.filters,a={url:String(n||""),message:String(o||""),stack:String(i||"")};s=s||{};var c=t(a,r),u=t(a,s);return{common:c,custom:u,hasExternal:c||u}}}(Ya.Rum);

!function(){"use strict";var e;(e=Ya.Rum).logError=function(r,a){var s=(r=r||{}).message||"";(a=a||{}).message&&(s&&(s+="; "),s+=a.message),a.message=s;for(var o=["service","source","type","block","additional","level","page"],g=0;g<o.length;g++){var l=o[g];r[l]&&(a[l]=r[l])}e._handleError(a,!0)}}();

!function(){"use strict";var t;(t=Ya.Rum).logAjaxError=function(a,o,r,i){var n;a.sourceType="network",a.additional=a.additional||{},"timeout"===r?a.additional.timeout=1:o.status&&(a.additional.status=o.status),i instanceof Error?n=i:(n=new Error).message=i,t.logError(a,n)}}();
</script><script nonce="">Ya.Rum.initErrors({"project":"wiki","reqid":"04kgiadeg6","env":"production","platform":"desktop","page":"article","version":"10.183.0-2742214eacafe345dde35725a5106d698d40bb81.0"})</script><script type="text/javascript" src="%D0%9F%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B0%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20Tensorflow%201.15%20&amp;%20Object_detection_API%20@%20Wiki_files/highlight.js"></script></body></html>